/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
(function(_1,_2){var _3=function(){},_4=function(it){for(var p in it){return 0;}return 1;},_5={}.toString,_6=function(it){return _5.call(it)=="[object Function]";},_7=function(it){return _5.call(it)=="[object String]";},_8=function(it){return _5.call(it)=="[object Array]";},_9=function(_a,_b){if(_a){for(var i=0;i<_a.length;){_b(_a[i++]);}}},_c=function(_d,_e){for(var p in _e){_d[p]=_e[p];}return _d;},_f=function(_10,_11){return _c(new Error(_10),{src:"dojoLoader",info:_11});},_12=1,uid=function(){return "_"+_12++;},req=function(_13,_14,_15){return _16(_13,_14,_15,0,req);},_17=this,doc=_17.document,_18=doc&&doc.createElement("DiV"),has=req.has=function(_19){return _6(_1a[_19])?(_1a[_19]=_1a[_19](_17,doc,_18)):_1a[_19];},_1a=has.cache=_2.hasCache;has.add=function(_1b,_1c,now,_1d){(_1a[_1b]===undefined||_1d)&&(_1a[_1b]=_1c);return now&&has(_1b);};true||has.add("host-node",_1.has&&"host-node" in _1.has?_1.has["host-node"]:(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8));if(1){require("./_base/configNode.js").config(_2);_2.loaderPatch.nodeRequire=require;}false&&has.add("host-rhino",_1.has&&"host-rhino" in _1.has?_1.has["host-rhino"]:(typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")));if(0){for(var _1e=_1.baseUrl||".",arg,_1f=this.arguments,i=0;i<_1f.length;){arg=(_1f[i++]+"").split("=");if(arg[0]=="baseUrl"){_1e=arg[1];break;}}load(_1e+"/_base/configRhino.js");rhinoDojoConfig(_2,_1e,_1f);}for(var p in _1.has){has.add(p,_1.has[p],0,1);}var _20=1,_21=2,_22=3,_23=4,_24=5;if(1){_20="requested";_21="arrived";_22="not-a-module";_23="executing";_24="executed";}var _25=0,_26="sync",xd="xd",_27=[],_28=0,_29=_3,_2a=_3,_2b;if(1){req.isXdUrl=_3;req.initSyncLoader=function(_2c,_2d,_2e){if(!_28){_28=_2c;_29=_2d;_2a=_2e;}return {sync:_26,xd:xd,arrived:_21,nonmodule:_22,executing:_23,executed:_24,syncExecStack:_27,modules:_2f,execQ:_30,getModule:_31,injectModule:_32,setArrived:_33,signal:_34,finishExec:_35,execModule:_36,dojoRequirePlugin:_28,getLegacyMode:function(){return _25;},holdIdle:function(){_76++;},releaseIdle:function(){_37();}};};if(0){var _38=location.protocol,_39=location.host;req.isXdUrl=function(url){if(/^\./.test(url)){return false;}if(/^\/\//.test(url)){return true;}var _3a=url.match(/^([^\/\:]+\:)\/+([^\/]+)/);return _3a&&(_3a[1]!=_38||(_39&&_3a[2]!=_39));};false&&has.add("dojo-xhr-factory",1);has.add("dojo-force-activex-xhr",0&&!doc.addEventListener&&window.location.protocol=="file:");has.add("native-xhr",typeof XMLHttpRequest!="undefined");if(has("native-xhr")&&!has("dojo-force-activex-xhr")){_2b=function(){return new XMLHttpRequest();};}else{for(var _3b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],_3c,i=0;i<3;){try{_3c=_3b[i++];if(new ActiveXObject(_3c)){break;}}catch(e){}}_2b=function(){return new ActiveXObject(_3c);};}req.getXhr=_2b;has.add("dojo-gettext-api",1);req.getText=function(url,_3d,_3e){var xhr=_2b();xhr.open("GET",_3f(url),false);xhr.send(null);if(xhr.status==200||(!location.host&&!xhr.status)){if(_3e){_3e(xhr.responseText,_3d);}}else{throw _f("xhrFailed",xhr.status);}return xhr.responseText;};}}else{req.async=1;}var _40=new Function("return eval(arguments[0]);");req.eval=function(_41,_42){return _40(_41+"\r\n////@ sourceURL="+_42);};var _43={},_44="error",_34=req.signal=function(_45,_46){var _47=_43[_45];_9(_47&&_47.slice(0),function(_48){_48.apply(null,_8(_46)?_46:[_46]);});},on=req.on=function(_49,_4a){var _4b=_43[_49]||(_43[_49]=[]);_4b.push(_4a);return {remove:function(){for(var i=0;i<_4b.length;i++){if(_4b[i]===_4a){_4b.splice(i,1);return;}}}};};var _4c=[],_4d={},_4e=[],_4f={},_50={},_51=[],_2f={},_52="",_53={},_54={},_55={};if(1){var _56=function(_57){var p,_58,_59,now;for(p in _54){_58=_54[p];_59=p.match(/^url\:(.+)/);if(_59){_53[_5a(_59[1],_57)]=_58;}else{if(p=="*now"){now=_58;}else{if(p!="*noref"){_53[_5b(p,_57).mid]=_58;}}}}if(now){now(_5c(_57));}_54={};},_5d=function(map,_5e,_5f){_5e.splice(0,_5e.length);var p,i,_60,_61=0;for(p in map){_5e.push([p,map[p]]);if(map[p]==_5f){_61=p;}}_5e.sort(function(lhs,rhs){return rhs[0].length-lhs[0].length;});for(i=0;i<_5e.length;){_60=_5e[i++];_60[2]=new RegExp("^"+_60[0].replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;})+"(/|$)");_60[3]=_60[0].length+1;}return _61;},_62=function(_63,_64){var _65=_63.name;if(!_65){_65=_63;_63={name:_65};}_63=_c({main:"main",mapProg:[]},_63);_63.location=(_64||"")+(_63.location?_63.location:_65);_63.reverseName=_5d(_63.packageMap,_63.mapProg,_65);if(!_63.main.indexOf("./")){_63.main=_63.main.substring(2);}_c(_4d,_63.paths);_4f[_65]=_63;_50[_65]=_65;},_66=function(_67,_68){for(var p in _67){if(p=="waitSeconds"){req.waitms=(_67[p]||0)*1000;}if(p=="cacheBust"){_52=_67[p]?(_7(_67[p])?_67[p]:(new Date()).getTime()+""):"";}if(p=="baseUrl"||p=="combo"){req[p]=_67[p];}if(1&&p=="async"){var _69=_67[p];req.legacyMode=_25=(_7(_69)&&/sync|legacyAsync/.test(_69)?_69:(!_69?"sync":false));req.async=!_25;}if(_67[p]!==_1a){req.rawConfig[p]=_67[p];p!="has"&&has.add("config-"+p,_67[p],0,_68);}}if(!req.baseUrl){req.baseUrl="./";}if(!/\/$/.test(req.baseUrl)){req.baseUrl+="/";}for(p in _67.has){has.add(p,_67.has[p],0,_68);}_9(_67.packages,_62);for(_1e in _67.packagePaths){_9(_67.packagePaths[_1e],function(_6a){_62(_6a,_1e+"/");});}_5d(_c(_4d,_67.paths),_4e);_9(_67.aliases,function(_6b){if(_7(_6b[0])){_6b[0]=new RegExp("^"+_6b[0].replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return "\\"+c;})+"$");}_4c.push(_6b);});_5d(_c(_50,_67.packageMap),_51);if(_67.cache){_56();_54=_67.cache;if(_67.cache["*noref"]){_56();}}_34("config",[_67,req.rawConfig]);};if(0||0){var _6c=doc.getElementsByTagName("script"),i=0,_6d,_6e,src,_6f;while(i<_6c.length){_6d=_6c[i++];if((src=_6d.getAttribute("src"))&&(_6f=src.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){_6e=_6f[3]||"";_2.baseUrl=_2.baseUrl||_6e;src=(_6d.getAttribute("data-dojo-config")||_6d.getAttribute("djConfig"));if(src){_55=req.eval("({ "+src+" })","data-dojo-config");}if(0){var _70=_6d.getAttribute("data-main");if(_70){_55.deps=_55.deps||[_70];}}break;}}}if(0){try{if(window.parent!=window&&window.parent.require){var doh=window.parent.require("doh");doh&&_c(_55,doh.testConfig);}}catch(e){}}req.rawConfig={};_66(_2,1);if(0){_4f.dojo.location=_6e;if(_6e){_6e+="/";}_4f.dijit.location=_6e+"../dijit/";_4f.dojox.location=_6e+"../dojox/";}_66(_1,1);_66(_55,1);}else{_4d=_2.paths;_4e=_2.pathsMapProg;_4f=_2.packs;_4c=_2.aliases;_50=_2.packageMap;_51=_2.packageMapProg;_2f=_2.modules;_53=_2.cache;_52=_2.cacheBust;req.rawConfig=_2;}if(0){req.combo=req.combo||{add:_3};var _71=0,_72=[],_73=null;}var _74=function(_75){_76++;_9(_75.deps,_32);if(0&&_71&&!_73){_73=setTimeout(function(){_71=0;_73=null;req.combo.done(function(_77,url){var _78=function(){_79(0,_77);_7a();};_72.push(_77);_7b=_77;req.injectUrl(url,_78,_77);_7b=0;},req);},0);}_37();},_16=function(a1,a2,a3,_7c,_7d){var _7e,_7f;if(_7(a1)){_7e=_31(a1,_7c,true);if(_7e&&_7e.executed){return _7e.result;}throw _f("undefinedModule",a1);}if(!_8(a1)){_66(a1);a1=a2;a2=a3;}if(_8(a1)){if(!a1.length){a2&&a2();}else{_7f="require*"+uid();for(var mid,_80=[],i=0;i<a1.length;){mid=a1[i++];_80.push(_31(mid,_7c));}_7e=_c(_81("",_7f,0,""),{injected:_21,deps:_80,def:a2||_3,require:_7c?_7c.require:req,gc:1});_2f[_7e.mid]=_7e;_74(_7e);var _82=_76&&req.async;_76++;_36(_7e,_82);_37();if(!_7e.executed){_30.push(_7e);}_7a();}}return _7d;},_5c=function(_83){if(!_83){return req;}var _84=_83.require;if(!_84){_84=function(a1,a2,a3){return _16(a1,a2,a3,_83,_84);};_83.require=_c(_84,req);_84.module=_83;_84.toUrl=function(_85){return _5a(_85,_83);};_84.toAbsMid=function(mid){return _b5(mid,_83);};if(0){_84.undef=function(mid){req.undef(mid,_83);};}if(1){_84.syncLoadNls=function(mid){var _86=_5b(mid,_83),_87=_2f[_86.mid];if(!_87||!_87.executed){_88=_53[_86.mid]||_53[_86.cacheId];if(_88){_89(_88);_87=_2f[_86.mid];}}return _87&&_87.executed&&_87.result;};}}return _84;},_30=[],_8a=[],_8b={},_8c=function(_8d){_8d.injected=_20;_8b[_8d.mid]=1;if(_8d.url){_8b[_8d.url]=_8d.pack||1;}_8e();},_33=function(_8f){_8f.injected=_21;delete _8b[_8f.mid];if(_8f.url){delete _8b[_8f.url];}if(_4(_8b)){_90();1&&_25==xd&&(_25=_26);}},_91=req.idle=function(){return !_8a.length&&_4(_8b)&&!_30.length&&!_76;},_92=function(_93,map){for(var i=0;i<map.length;i++){if(map[i][2].test(_93)){return map[i];}}return 0;},_94=function(_95){var _96=[],_97,_98;_95=_95.replace(/\\/g,"/").split("/");while(_95.length){_97=_95.shift();if(_97==".."&&_96.length&&_98!=".."){_96.pop();_98=_96[_96.length-1];}else{if(_97!="."){_96.push(_98=_97);}}}return _96.join("/");},_81=function(pid,mid,_99,url,_9a){if(1){var xd=req.isXdUrl(url);return {pid:pid,mid:mid,pack:_99,url:url,executed:0,def:0,isXd:xd,isAmd:!!(xd||(_4f[pid]&&_4f[pid].isAmd)),cacheId:_9a};}else{return {pid:pid,mid:mid,pack:_99,url:url,executed:0,def:0,cacheId:_9a};}},_9b=function(mid,_9c,_9d,_9e,_9f,_a0,_a1,_a2){var pid,_a3,_a4,_a5,_a6,_a7,url,_a8,_a9,_aa,_ab=0;_aa=mid;_a9=/^\./.test(mid);if(/(^\/)|(\:)|(\.js$)/.test(mid)||(_a9&&!_9c)){return _81(0,mid,0,mid);}else{mid=_94(_a9?(_9c.mid+"/../"+mid):mid);if(/^\./.test(mid)){throw _f("irrationalPath",mid);}_a5=_9c&&_9c.pack&&_9c.pack.mapProg;_a6=(_a5&&_92(mid,_a5))||_92(mid,_a0);if(_a6){pid=_a6[1];mid=mid.substring(_a6[3]);_a3=_9d[pid];if(!mid){mid=_a3.main;}_a4=mid;_ab=_a3.reverseName+"/"+mid;mid=pid+"/"+mid;}else{pid="";}var _ac=0,_ad=0;_9(_4c,function(_ae){var _af=mid.match(_ae[0]);if(_af&&_af.length>_ac){_ad=_6(_ae[1])?mid.replace(_ae[0],_ae[1]):_ae[1];}});if(_ad){return _9b(_ad,0,_9d,_9e,_9f,_a0,_a1,_a2);}_a8=_9e[mid];if(_a8){return _a2?_81(_a8.pid,_a8.mid,_a8.pack,_a8.url,_ab):_9e[mid];}}_a6=_92(mid,_a1);if(_a6){url=_a6[1]+mid.substring(_a6[3]-1);}else{if(pid){url=_a3.location+"/"+_a4;}else{if(has("config-tlmSiblingOfDojo")){url="../"+mid;}else{url=mid;}}}if(!(/(^\/)|(\:)/.test(url))){url=_9f+url;}url+=".js";return _81(pid,mid,_a3,_94(url),_ab);},_5b=function(mid,_b0){return _9b(mid,_b0,_4f,_2f,req.baseUrl,_51,_4e);},_b1=function(_b2,_b3,_b4){return _b2.normalize?_b2.normalize(_b3,function(mid){return _b5(mid,_b4);}):_b5(_b3,_b4);},_b6=0,_31=function(mid,_b7,_b8){var _b9,_ba,_bb,_bc;_b9=mid.match(/^(.+?)\!(.*)$/);if(_b9){_ba=_31(_b9[1],_b7,_b8);if(1&&_25==_26&&!_ba.executed){_32(_ba);if(_ba.injected===_21&&!_ba.executed){_76++;_36(_ba);_37();}if(_ba.executed){_bd(_ba);}else{_30.unshift(_ba);}}if(_ba.executed===_24&&!_ba.load){_bd(_ba);}if(_ba.load){_bb=_b1(_ba,_b9[2],_b7);mid=(_ba.mid+"!"+(_ba.dynamic?++_b6+"!":"")+_bb);}else{_bb=_b9[2];mid=_ba.mid+"!"+(++_b6)+"!waitingForPlugin";}_bc={plugin:_ba,mid:mid,req:_5c(_b7),prid:_bb};}else{_bc=_5b(mid,_b7);}return _2f[_bc.mid]||(!_b8&&(_2f[_bc.mid]=_bc));},_b5=req.toAbsMid=function(mid,_be){return _5b(mid,_be).mid;},_5a=req.toUrl=function(_bf,_c0){var _c1=_5b(_bf+"/x",_c0),url=_c1.url;return _3f(_c1.pid===0?_bf:url.substring(0,url.length-5));},_c2={injected:_21,executed:_24,def:_22,result:_22},_c3=function(mid){return _2f[mid]=_c({mid:mid},_c2);},_c4=_c3("require"),_c5=_c3("exports"),_c6=_c3("module"),_c7=function(_c8,_c9){req.trace("loader-run-factory",[_c8.mid]);var _ca=_c8.def,_cb;1&&_27.unshift(_c8);if(has("config-dojo-loader-catches")){try{_cb=_6(_ca)?_ca.apply(null,_c9):_ca;}catch(e){_34(_44,_c8.result=_f("factoryThrew",[_c8,e]));}}else{_cb=_6(_ca)?_ca.apply(null,_c9):_ca;}_c8.result=_cb===undefined&&_c8.cjs?_c8.cjs.exports:_cb;1&&_27.shift(_c8);},_cc={},_cd=0,_bd=function(_ce){var _cf=_ce.result;_ce.dynamic=_cf.dynamic;_ce.normalize=_cf.normalize;_ce.load=_cf.load;return _ce;},_d0=function(_d1){var map={};_9(_d1.loadQ,function(_d2){var _d3=_d2.mid,_d4=_b1(_d1,_d2.prid,_d2.req.module),mid=_d1.dynamic?_d2.mid.replace(/waitingForPlugin$/,_d4):(_d1.mid+"!"+_d4),_d5=_c(_c({},_d2),{mid:mid,prid:_d4,injected:0});if(!_2f[mid]){_e6(_2f[mid]=_d5);}map[_d2.mid]=_2f[mid];_33(_d2);delete _2f[_d2.mid];});_d1.loadQ=0;var _d6=function(_d7){for(var _d8,_d9=_d7.deps||[],i=0;i<_d9.length;i++){_d8=map[_d9[i].mid];if(_d8){_d9[i]=_d8;}}};for(var p in _2f){_d6(_2f[p]);}_9(_30,_d6);},_35=function(_da){req.trace("loader-finish-exec",[_da.mid]);_da.executed=_24;_da.defOrder=_cd++;1&&_9(_da.provides,function(cb){cb();});if(_da.loadQ){_bd(_da);_d0(_da);}for(i=0;i<_30.length;){if(_30[i]===_da){_30.splice(i,1);}else{i++;}}if(/^require\*/.test(_da.mid)){delete _2f[_da.mid];}},_db=[],_36=function(_dc,_dd){if(_dc.executed===_23){req.trace("loader-circular-dependency",[_db.concat(_dc.mid).join("->")]);return (!_dc.def||_dd)?_cc:(_dc.cjs&&_dc.cjs.exports);}if(!_dc.executed){if(!_dc.def){return _cc;}var mid=_dc.mid,_de=_dc.deps||[],arg,_df,_e0=[],i=0;if(1){_db.push(mid);req.trace("loader-exec-module",["exec",_db.length,mid]);}_dc.executed=_23;while(i<_de.length){arg=_de[i++];_df=((arg===_c4)?_5c(_dc):((arg===_c5)?_dc.cjs.exports:((arg===_c6)?_dc.cjs:_36(arg,_dd))));if(_df===_cc){_dc.executed=0;req.trace("loader-exec-module",["abort",mid]);1&&_db.pop();return _cc;}_e0.push(_df);}_c7(_dc,_e0);_35(_dc);1&&_db.pop();}return _dc.result;},_76=0,_7a=function(){if(_76){return;}_76++;_29();for(var _e1,_e2,i=0;i<_30.length;){_e1=_cd;_e2=_30[i];_36(_e2);if(_e1!=_cd){_29();i=0;}else{i++;}}_37();},_37=function(){_76--;if(_91()){_34("idle",[]);}};if(0){req.undef=function(_e3,_e4){var _e5=_31(_e3,_e4);_33(_e5);delete _2f[_e5.mid];};}if(1){if(has("dojo-loader-eval-hint-url")===undefined){has.add("dojo-loader-eval-hint-url",1);}var _3f=function(url){url+="";return url+(_52?((/\?/.test(url)?"&":"?")+_52):"");},_e6=function(_e7){var _e8=_e7.plugin;if(_e8.executed===_24&&!_e8.load){_bd(_e8);}var _e9=function(def){_e7.result=def;_33(_e7);_35(_e7);_7a();};if(_e8.load){_e8.load(_e7.prid,_e7.req,_e9);}else{if(_e8.loadQ){_e8.loadQ.push(_e7);}else{_e8.loadQ=[_e7];_30.unshift(_e8);_32(_e8);}}},_88=0,_7b=0,_ea=0,_89=function(_eb,_ec){_ea=1;if(has("config-dojo-loader-catches")){try{if(_eb===_88){_88.call(null);}else{req.eval(_eb,has("dojo-loader-eval-hint-url")?_ec.url:_ec.mid);}}catch(e){_34(_44,_f("evalModuleThrew",_ec));}}else{if(_eb===_88){_88.call(null);}else{req.eval(_eb,has("dojo-loader-eval-hint-url")?_ec.url:_ec.mid);}}_ea=0;},_32=function(_ed){var mid=_ed.mid,url=_ed.url;if(_ed.executed||_ed.injected||_8b[mid]||(_ed.url&&((_ed.pack&&_8b[_ed.url]===_ed.pack)||_8b[_ed.url]==1))){return;}_8c(_ed);if(0){var _ee=0;if(_ed.plugin&&_ed.plugin.isCombo){req.combo.add(_ed.plugin.mid,_ed.prid,0,req);_ee=1;}else{if(!_ed.plugin){_ee=req.combo.add(0,_ed.mid,_ed.url,req);}}if(_ee){_71=1;return;}}if(_ed.plugin){_e6(_ed);return;}var _ef=function(){_79(_ed);if(_ed.injected!==_21){_33(_ed);_c(_ed,_c2);req.trace("loader-define-nonmodule",[_ed.url]);}if(1&&_25){!_27.length&&_7a();}else{_7a();}};_88=_53[mid]||_53[_ed.cacheId];if(_88){req.trace("loader-inject",["cache",_ed.mid,url]);_89(_88,_ed);_ef();return;}if(1&&_25){if(_ed.isXd){_25==_26&&(_25=xd);}else{if(_ed.isAmd&&_25!=_26){}else{var _f0=function(_f1){if(_25==_26){_27.unshift(_ed);_89(_f1,_ed);_27.shift();_79(_ed);if(!_ed.cjs){_33(_ed);_35(_ed);}if(_ed.finish){var _f2=mid+"*finish",_f3=_ed.finish;delete _ed.finish;def(_f2,["dojo",("dojo/require!"+_f3.join(",")).replace(/\./g,"/")],function(_f4){_9(_f3,function(mid){_f4.require(mid);});});_30.unshift(_31(_f2));}_ef();}else{_f1=_2a(_ed,_f1);if(_f1){_89(_f1,_ed);_ef();}else{_7b=_ed;req.injectUrl(_3f(url),_ef,_ed);_7b=0;}}};req.trace("loader-inject",["xhr",_ed.mid,url,_25!=_26]);if(has("config-dojo-loader-catches")){try{req.getText(url,_25!=_26,_f0);}catch(e){_34(_44,_f("xhrInjectFailed",[_ed,e]));}}else{req.getText(url,_25!=_26,_f0);}return;}}}req.trace("loader-inject",["script",_ed.mid,url]);_7b=_ed;req.injectUrl(_3f(url),_ef,_ed);_7b=0;},_f5=function(_f6,_f7,def){req.trace("loader-define-module",[_f6.mid,_f7]);if(0&&_f6.plugin&&_f6.plugin.isCombo){_f6.result=_6(def)?def():def;_33(_f6);_35(_f6);return _f6;}var mid=_f6.mid;if(_f6.injected===_21){_34(_44,_f("multipleDefine",_f6));return _f6;}_c(_f6,{deps:_f7,def:def,cjs:{id:_f6.mid,uri:_f6.url,exports:(_f6.result={}),setExports:function(_f8){_f6.cjs.exports=_f8;}}});for(var i=0;i<_f7.length;i++){_f7[i]=_31(_f7[i],_f6);}if(1&&_25&&!_8b[mid]){_74(_f6);_30.push(_f6);_7a();}_33(_f6);if(!_6(def)&&!_f7.length){_f6.result=def;_35(_f6);}return _f6;},_79=function(_f9,_fa){var _fb=[],_fc,_fd;while(_8a.length){_fd=_8a.shift();_fa&&(_fd[0]=_fa.shift());_fc=(_fd[0]&&_31(_fd[0]))||_f9;_fb.push([_fc,_fd[1],_fd[2]]);}_56(_f9);_9(_fb,function(_fe){_74(_f5.apply(null,_fe));});};}var _ff=0,_90=_3,_8e=_3;if(0){_90=function(){_ff&&clearTimeout(_ff);_ff=0;},_8e=function(){_90();if(req.waitms){_ff=window.setTimeout(function(){_90();_34(_44,_f("timeout",_8b));},req.waitms);}};}if(0){has.add("ie-event-behavior",!!doc.attachEvent&&(typeof opera==="undefined"||opera.toString()!="[object Opera]"));}if(0&&(1||0)){var _100=function(node,_101,_102,_103){if(!has("ie-event-behavior")){node.addEventListener(_101,_103,false);return function(){node.removeEventListener(_101,_103,false);};}else{node.attachEvent(_102,_103);return function(){node.detachEvent(_102,_103);};}},_104=_100(window,"load","onload",function(){req.pageLoaded=1;doc.readyState!="complete"&&(doc.readyState="complete");_104();});if(1){var _105=doc.getElementsByTagName("script")[0],_106=_105.parentNode;req.injectUrl=function(url,_107,_108){var node=_108.node=doc.createElement("script"),_109=function(e){e=e||window.event;var node=e.target||e.srcElement;if(e.type==="load"||/complete|loaded/.test(node.readyState)){_10a();_10b();_107&&_107();}},_10a=_100(node,"load","onreadystatechange",_109),_10b=_100(node,"error","onerror",function(e){_10a();_10b();_34(_44,_f("scriptError",[url,e]));});node.type="text/javascript";node.charset="utf-8";node.src=url;_106.insertBefore(node,_105);return node;};}}if(1){req.log=function(){try{for(var i=0;i<arguments.length;i++){}}catch(e){}};}else{req.log=_3;}if(1){var _10c=req.trace=function(_10d,args){if(_10c.on&&_10c.group[_10d]){_34("trace",[_10d,args]);for(var arg,dump=[],text="trace:"+_10d+(args.length?(":"+args[0]):""),i=1;i<args.length;){arg=args[i++];if(_7(arg)){text+=", "+arg;}else{dump.push(arg);}}req.log(text);dump.length&&dump.push(".");req.log.apply(req,dump);}};_c(_10c,{on:1,group:{},set:function(_10e,_10f){if(_7(_10e)){_10c.group[_10e]=_10f;}else{_c(_10c.group,_10e);}}});_10c.set(_c(_c(_c({},_2.trace),_1.trace),_55.trace));on("config",function(_110){_110.trace&&_10c.set(_110.trace);});}else{req.trace=_3;}var def=function(mid,_111,_112){var _113=arguments.length,_114=["require","exports","module"],args=[0,mid,_111];if(_113==1){args=[0,(_6(mid)?_114:[]),mid];}else{if(_113==2&&_7(mid)){args=[mid,(_6(_111)?_114:[]),_111];}else{if(_113==3){args=[mid,_111,_112];}}}if(0&&args[1]===_114){args[2].toString().replace(/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,"").replace(/require\(["']([\w\!\-_\.\/]+)["']\)/g,function(_115,dep){args[1].push(dep);});}req.trace("loader-define",args.slice(0,2));var _116=args[0]&&_31(args[0]),_117;if(_116&&!_8b[_116.mid]){_74(_f5(_116,args[1],args[2]));}else{if(!has("ie-event-behavior")||!0||_ea){_8a.push(args);}else{_116=_116||_7b;if(!_116){for(mid in _8b){_117=_2f[mid];if(_117&&_117.node&&_117.node.readyState==="interactive"){_116=_117;break;}}if(0&&!_116){for(var i=0;i<_72.length;i++){_116=_72[i];if(_116.node&&_116.node.readyState==="interactive"){break;}_116=0;}}}if(0&&_8(_116)){_74(_f5(_31(_116.shift()),args[1],args[2]));if(!_116.length){_72.splice(i,1);}}else{if(_116){_56(_116);_74(_f5(_116,args[1],args[2]));}else{_34(_44,_f("ieDefineFailed",args[0]));}}_7a();}}};def.amd={vendor:"dojotoolkit.org"};if(0){req.def=def;}_c(_c(req,_2.loaderPatch),_1.loaderPatch);on(_44,function(arg){try{console.error(arg);if(arg instanceof Error){for(var p in arg){}}}catch(e){}});_c(req,{uid:uid,cache:_53,packs:_4f});if(1){_c(req,{paths:_4d,aliases:_4c,packageMap:_50,modules:_2f,legacyMode:_25,execQ:_30,defQ:_8a,waiting:_8b,pathsMapProg:_4e,packageMapProg:_51,listenerQueues:_43,computeMapProg:_5d,runMapProg:_92,compactPath:_94,getModuleInfo:_9b});}if(_17.define){if(1){_34(_44,_f("defineAlreadyDefined",0));}}else{_17.define=def;_17.require=req;if(1){require=req;}}if(0&&req.combo&&req.combo.plugins){var _118=req.combo.plugins,_119;for(_119 in _118){_c(_c(_31(_119),_118[_119]),{isCombo:1,executed:"executed",load:1});}}if(1){var _11a=_55.deps||_1.deps||_2.deps,_11b=_55.callback||_1.callback||_2.callback;req.boot=(_11a||_11b)?[_11a||[],_11b]:0;}if(!1){!req.async&&req(["dojo"]);req.boot&&req.apply(null,req.boot);}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../main",name:"main"},{location:"../dojox",name:"dojox"},{location:"../dijit",name:"dijit"},{location:"../dojox/jtlc",name:"dojox/jtlc"},{location:"../dojox/jtlc/CHT/instance",name:"dojox/jtlc/CHT/instance"},{location:".",name:"dojo"}]});global.require({cache:{"main/collect":function(){define(["dojo","dijit","dojox","dojo/require!dojox/jtlc/CHT"],function(dojo,_11c,_11d){dojo.require("dojox.jtlc.CHT");function _11e(ns){for(var tpl in ns){ns[tpl]=new cht._userDefinedElement({arg:/\.([^.]*)$/.exec(tpl)[1]});}return ns;};var cht=new _11d.jtlc.CHT({loadTemplates:_11e}),fs=module.require("fs"),file=process.argv[2];var _11f=dojo.getObject;dojo.getObject=function(x){return _11f(x)||function(){};};dojo.when(cht.parse(fs.readFileSync(file,"utf8")),function(ns){var dict={};for(var n in ns){if(ns.hasOwnProperty(n)){_11d.jtlc.compile(ns[n],cht,{i18nDictionary:dict});}}process.stdout.write(dojo.toJson(dict,true));});});},"dojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!dojo-firebug?./_firebug/firebug","require","./_base/loader"],function(_120,has,_121,_122,lang,_123,_124,_125){if(_124.isDebug){_121(["./_firebug/firebug"]);}true||has.add("dojo-config-require",1);if(1){var deps=_124.require;if(deps){deps=_123.map(lang.isArray(deps)?deps:[deps],function(item){return item.replace(/\./g,"/");});if(_120.isAsync){_121(deps);}else{_125(1,function(){_121(deps);});}}}return _120;});},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(has,_126,_127,_128){var i,p,_129={},_12a={},dojo={config:_126,global:this,dijit:_129,dojox:_12a};var _12b={dojo:["dojo",dojo],dijit:["dijit",_129],dojox:["dojox",_12a]},_12c=(_127.packs&&_127.packs[_128.id.match(/[^\/]+/)[0]].packageMap)||{},item;for(p in _12c){if(_12b[p]){_12b[p][0]=_12c[p];}else{_12b[p]=[_12c[p],{}];}}for(p in _12b){item=_12b[p];item[1]._scopeName=item[0];if(!_126.noGlobals){this[item[0]]=item[1];}}dojo.scopeMap=_12b;dojo.baseUrl=dojo.config.baseUrl=_127.baseUrl;dojo.isAsync=!1||_127.async;dojo.locale=_126.locale;var rev="$Rev$".match(/\d+/);dojo.version={major:1,minor:8,patch:0,flag:"dev",revision:rev?+rev[0]:NaN,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")";}};true||has.add("extend-dojo",1);dojo.eval=function(_12d){};(Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}"))(dojo);if(0){dojo.exit=function(_12e){quit(_12e);};}else{dojo.exit=function(){};}true||has.add("dojo-guarantee-console",1);if(1){typeof console!="undefined"||(console={});var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var tn;i=0;while((tn=cn[i++])){if(!console[tn]){(function(){var tcn=tn+"";console[tcn]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(tcn+":");console["log"](a.join(" "));}:function(){};console[tcn]._fake=true;})();}}}has.add("dojo-debug-messages",!!_126.isDebug);if(has("dojo-debug-messages")){dojo.deprecated=function(_12f,_130,_131){var _132="DEPRECATED: "+_12f;if(_130){_132+=" "+_130;}if(_131){_132+=" -- will be removed in version: "+_131;}console.warn(_132);};dojo.experimental=function(_133,_134){var _135="EXPERIMENTAL: "+_133+" -- APIs subject to change without notice.";if(_134){_135+=" "+_134;}console.warn(_135);};}else{dojo.deprecated=dojo.experimental=function(){};}true||has.add("dojo-modulePaths",1);if(1){if(_126.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var _136={};for(p in _126.modulePaths){_136[p.replace(/\./g,"/")]=_126.modulePaths[p];}_127({paths:_136});}}true||has.add("dojo-moduleUrl",1);if(1){dojo.moduleUrl=function(_137,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var _138=null;if(_137){_138=_127.toUrl(_137.replace(/\./g,"/")+(url?("/"+url):"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/");}return _138;};}dojo._hasResource={};return dojo;});},"dojo/has":function(){define(["require"],function(_139){var has=_139.has||function(){};if(!1){var _13a=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,_13b=this,doc=_13a&&document,_13c=doc&&doc.createElement("DiV"),_13d={};has=function(name){return typeof _13d[name]=="function"?(_13d[name]=_13d[name](_13b,doc,_13c)):_13d[name];};has.cache=_13d;has.add=function(name,test,now,_13e){(typeof _13d[name]=="undefined"||_13e)&&(_13d[name]=test);return now&&has(name);};false&&has.add("host-browser",_13a);false&&has.add("dom",_13a);false&&has.add("dojo-dom-ready-api",1);false&&has.add("dojo-sniff",1);}if(0){var _13f=navigator.userAgent;has.add("dom-addeventlistener",!!document.addEventListener);has.add("touch","ontouchstart" in document);has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",form.attributes.length==0);has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40);}has.clearElement=function(_140){_140.innerHTML="";return _140;};has.normalize=function(id,_141){var _142=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=_142[i++];if(term==":"){return 0;}else{if(_142[i++]=="?"){if(!skip&&has(term)){return get();}else{get(true);return get(skip);}}return term||0;}};id=get();return id&&_141(id);};has.load=function(id,_143,_144){if(id){_143([id],_144);}else{_144();}};return has;});},"dojo/_base/config":function(){define(["../has","require"],function(has,_145){var _146={};if(1){var src=_145.rawConfig,p;for(p in src){_146[p]=src[p];}}else{var _147=function(_148,_149,_14a){for(p in _148){p!="has"&&has.add(_149+p,_148[p],0,_14a);}};_146=1?_145.rawConfig:this.dojoConfig||this.djConfig||{};_147(_146,"config",1);_147(_146.has,"",1);}return _146;});},"dojo/sniff":function(){define(["./has"],function(has){if(0){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);has.add("air",dua.indexOf("AdobeAIR")>=0),has.add("khtml",dav.indexOf("Konqueror")>=0?tv:undefined);has.add("webkit",parseFloat(dua.split("WebKit/")[1])||undefined);has.add("chrome",parseFloat(dua.split("Chrome/")[1])||undefined);has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):undefined);has.add("mac",dav.indexOf("Macintosh")>=0);has.add("quirks",document.compatMode=="BackCompat");has.add("ios",/iPhone|iPod|iPad/.test(dua));has.add("android",parseFloat(dua.split("Android ")[1])||undefined);if(!has("webkit")){if(dua.indexOf("Opera")>=0){has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv);}if(dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")){has.add("mozilla",tv);}if(has("mozilla")){has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);}if(document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}has.add("ie",isIE);}has.add("wii",typeof opera!="undefined"&&opera.wiiremote);}}return has;});},"dojo/_base/lang":function(){define(["./kernel","../has","./sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in {toString:1}){return 0;}return 1;});var _14b=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_14c=_14b.length,_14d=function(dest,_14e,_14f){var name,s,i,_150={};for(name in _14e){s=_14e[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _150)||_150[name]!==s))){dest[name]=_14f?_14f(s):s;}}if(has("bug-for-in-skips-shadowed")){if(_14e){for(i=0;i<_14c;++i){name=_14b[i];s=_14e[name];if(!(name in dest)||(dest[name]!==s&&(!(name in _150)||_150[name]!==s))){dest[name]=_14f?_14f(s):s;}}}}return dest;},_151=function(dest,_152){if(!dest){dest={};}for(var i=1,l=arguments.length;i<l;i++){lang._mixin(dest,arguments[i]);}return dest;},_153=function(_154,_155,_156){var p,i=0,_157=dojo.global;if(!_156){if(!_154.length){return _157;}else{p=_154[i++];try{_156=dojo.scopeMap[p]&&dojo.scopeMap[p][1];}catch(e){}_156=_156||(p in _157?_157[p]:(_155?_157[p]={}:undefined));}}while(_156&&(p=_154[i++])){_156=(p in _156?_156[p]:(_155?_156[p]={}:undefined));}return _156;},_158=function(name,_159,_15a){var _15b=name.split("."),p=_15b.pop(),obj=_153(_15b,true,_15a);return obj&&p?(obj[p]=_159):undefined;},_15c=function(name,_15d,_15e){return _153(name.split("."),_15d,_15e);},_15f=function(name,obj){return lang.getObject(name,false,obj)!==undefined;},opts=Object.prototype.toString,_160=function(it){return (typeof it=="string"||it instanceof String);},_161=function(it){return it&&(it instanceof Array||typeof it=="array");},_162=function(it){return opts.call(it)==="[object Function]";},_163=function(it){return it!==undefined&&(it===null||typeof it=="object"||lang.isArray(it)||lang.isFunction(it));},_164=function(it){return it&&it!==undefined&&!lang.isString(it)&&!lang.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(lang.isArray(it)||isFinite(it.length));},_165=function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));},_166=function(_167,_168){for(var i=1,l=arguments.length;i<l;i++){lang._mixin(_167.prototype,arguments[i]);}return _167;},_169=function(_16a,_16b){var pre=_16c(arguments,2);var _16d=lang.isString(_16b);return function(){var args=_16c(arguments);var f=_16d?(_16a||dojo.global)[_16b]:_16b;return f&&f.apply(_16a||this,pre.concat(args));};},_16e=function(_16f,_170){if(arguments.length>2){return lang._hitchArgs.apply(dojo,arguments);}if(!_170){_170=_16f;_16f=null;}if(lang.isString(_170)){_16f=_16f||dojo.global;if(!_16f[_170]){throw (["dojo.hitch: scope[\"",_170,"\"] is null (scope=\"",_16f,"\")"].join(""));}return function(){return _16f[_170].apply(_16f,arguments||[]);};}return !_16f?_170:function(){return _170.apply(_16f,arguments||[]);};},_171=(function(){function TMP(){};return function(obj,_172){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_172){lang._mixin(tmp,_172);}return tmp;};})(),_173=function(obj,_174,_175){return (_175||[]).concat(Array.prototype.slice.call(obj,_174||0));},_16c=has("ie")?(function(){function slow(obj,_176,_177){var arr=_177||[];for(var x=_176||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};return function(obj){return ((obj.item)?slow:_173).apply(this,arguments);};})():_173,_178=function(_179){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)));},_17a=function(src){if(!src||typeof src!="object"||lang.isFunction(src)){return src;}if(src.nodeType&&"cloneNode" in src){return src.cloneNode(true);}if(src instanceof Date){return new Date(src.getTime());}if(src instanceof RegExp){return new RegExp(src);}var r,i,l;if(lang.isArray(src)){r=[];for(i=0,l=src.length;i<l;++i){if(i in src){r.push(_17a(src[i]));}}}else{r=src.constructor?new src.constructor():{};}return lang._mixin(r,src,_17a);},trim=String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},_17b=/\{([^\}]+)\}/g,_17c=function(tmpl,map,_17d){return tmpl.replace(_17d||_17b,lang.isFunction(map)?map:function(_17e,k){return _15c(k,false,map);});},lang={_extraNames:_14b,_mixin:_14d,mixin:_151,setObject:_158,getObject:_15c,exists:_15f,isString:_160,isArray:_161,isFunction:_162,isObject:_163,isArrayLike:_164,isAlien:_165,extend:_166,_hitchArgs:_169,hitch:_16e,delegate:_171,_toArray:_16c,partial:_178,clone:_17a,trim:trim,replace:_17c};1&&_151(dojo,lang);return lang;});},"dojo/_base/sniff":function(){define(["./kernel","../sniff"],function(dojo,has){if(!0){return has;}dojo.isBrowser=true;dojo._name="browser";dojo.isOpera=has("opera");dojo.isAIR=has("air");dojo.isKhtml=has("khtml");dojo.isWebKit=has("webkit");dojo.isChrome=has("chrome");dojo.isMac=has("mac");dojo.isSafari=has("safari");dojo.isMozilla=dojo.isMoz=has("mozilla");dojo.isIE=has("ie");dojo.isFF=has("ff");dojo.isQuirks=has("quirks");dojo.isIos=has("ios");dojo.isAndroid=has("android");dojo.locale=dojo.locale||(dojo.isIE?navigator.userLanguage:navigator.language).toLowerCase();return has;});},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var _17f={},u,_180;function _181(){_17f={};};function _182(fn){return _17f[fn]=new Function("item","index","array",fn);};function _183(some){var _184=!some;return function(a,fn,o){var i=0,l=a&&a.length||0,_185;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_17f[fn]||_182(fn);}if(o){for(;i<l;++i){_185=!fn.call(o,a[i],i,a);if(some^_185){return !_185;}}}else{for(;i<l;++i){_185=!fn(a[i],i,a);if(some^_185){return !_185;}}}return _184;};};function _186(up){var _187=1,_188=0,_189=0;if(!up){_187=_188=_189=-1;}return function(a,x,from,last){if(last&&_187>0){return _180.lastIndexOf(a,x,from);}var l=a&&a.length||0,end=up?l+_189:_188,i;if(from===u){i=up?_188:l+_189;}else{if(from<0){i=l+from;if(i<0){i=_188;}}else{i=from>=l?l+_189:from;}}if(l&&typeof a=="string"){a=a.split("");}for(;i!=end;i+=_187){if(a[i]==x){return i;}}return -1;};};function _18a(a,fn,o){var i=0,l=a&&a.length||0;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_17f[fn]||_182(fn);}if(o){for(;i<l;++i){fn.call(o,a[i],i,a);}}else{for(;i<l;++i){fn(a[i],i,a);}}};function map(a,fn,o,Ctr){var i=0,l=a&&a.length||0,out=new (Ctr||Array)(l);if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_17f[fn]||_182(fn);}if(o){for(;i<l;++i){out[i]=fn.call(o,a[i],i,a);}}else{for(;i<l;++i){out[i]=fn(a[i],i,a);}}return out;};function _18b(a,fn,o){var i=0,l=a&&a.length||0,out=[],_18c;if(l&&typeof a=="string"){a=a.split("");}if(typeof fn=="string"){fn=_17f[fn]||_182(fn);}if(o){for(;i<l;++i){_18c=a[i];if(fn.call(o,_18c,i,a)){out.push(_18c);}}}else{for(;i<l;++i){_18c=a[i];if(fn(_18c,i,a)){out.push(_18c);}}}return out;};_180={every:_183(false),some:_183(true),indexOf:_186(true),lastIndexOf:_186(false),forEach:_18a,map:map,filter:_18b,clearCache:_181};1&&lang.mixin(dojo,_180);return _180;});},"dojo/ready":function(){define("dojo/ready",["./_base/kernel","./has","require","require","./_base/lang"],function(dojo,has,_18d,_18e,lang){var _18f=0,_190,_191=[],_192=0,_193=function(){_18f=1;dojo._postLoad=dojo.config.afterOnLoad=true;if(_191.length){_190(_194);}},_194=function(){if(_18f&&!_192&&_191.length){_192=1;var f=_191.shift();try{f();}finally{_192=0;}_192=0;if(_191.length){_190(_194);}}};_18d.on("idle",_194);_190=function(){if(_18d.idle()){_194();}};var _195=dojo.ready=dojo.addOnLoad=function(_196,_197,_198){var _199=lang._toArray(arguments);if(typeof _196!="number"){_198=_197;_197=_196;_196=1000;}else{_199.shift();}_198=_198?lang.hitch.apply(dojo,_199):function(){_197();};_198.priority=_196;for(var i=0;i<_191.length&&_196>=_191[i].priority;i++){}_191.splice(i,0,_198);_190();};true||has.add("dojo-config-addOnLoad",1);if(1){var dca=dojo.config.addOnLoad;if(dca){_195[(lang.isArray(dca)?"apply":"call")](dojo,dca);}}if(1&&dojo.config.parseOnLoad&&!dojo.isAsync){_195(99,function(){if(!dojo.parser){dojo.deprecated("Add explicit require(['dojo/parser']);","","2.0");_18d(["dojo/parser"]);}});}if(0){_18e(_193);}else{_193();}return _195;});},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(dojo,has,lang){var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,_19a=0,_19b="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _19c(_19d,_19e){var _19f=[],_1a0=[{cls:0,refs:[]}],_1a1={},_1a2=1,l=_19d.length,i=0,j,lin,base,top,_1a3,rec,name,refs;for(;i<l;++i){base=_19d[i];if(!base){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_19e);}else{if(opts.call(base)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_19e);}}lin=base._meta?base._meta.bases:[base];top=0;for(j=lin.length-1;j>=0;--j){_1a3=lin[j].prototype;if(!_1a3.hasOwnProperty("declaredClass")){_1a3.declaredClass="uniqName_"+(_19a++);}name=_1a3.declaredClass;if(!_1a1.hasOwnProperty(name)){_1a1[name]={count:0,refs:[],cls:lin[j]};++_1a2;}rec=_1a1[name];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_1a0[0].refs.push(top);}while(_1a0.length){top=_1a0.pop();_19f.push(top.cls);--_1a2;while(refs=top.refs,refs.length==1){top=refs[0];if(!top||--top.count){top=0;break;}_19f.push(top.cls);--_1a2;}if(top){for(i=0,l=refs.length;i<l;++i){top=refs[i];if(!--top.count){_1a0.push(top);}}}}if(_1a2){err("can't build consistent linearization",_19e);}base=_19d[0];_19f[0]=base?base._meta&&base===_19f[_19f.length-base._meta.bases.length]?base._meta.bases.length:1:0;return _19f;};function _1a4(args,a,f){var name,_1a5,_1a6,_1a7,meta,base,_1a8,opf,pos,_1a9=this._inherited=this._inherited||{};if(typeof args=="string"){name=args;args=a;a=f;}f=0;_1a7=args.callee;name=name||_1a7.nom;if(!name){err("can't deduce a name to call inherited()",this.declaredClass);}meta=this.constructor._meta;_1a6=meta.bases;pos=_1a9.p;if(name!=_19b){if(_1a9.c!==_1a7){pos=0;base=_1a6[0];meta=base._meta;if(meta.hidden[name]!==_1a7){_1a5=meta.chains;if(_1a5&&typeof _1a5[name]=="string"){err("calling chained method with inherited: "+name,this.declaredClass);}do{meta=base._meta;_1a8=base.prototype;if(meta&&(_1a8[name]===_1a7&&_1a8.hasOwnProperty(name)||meta.hidden[name]===_1a7)){break;}}while(base=_1a6[++pos]);pos=base?pos:-1;}}base=_1a6[++pos];if(base){_1a8=base.prototype;if(base._meta&&_1a8.hasOwnProperty(name)){f=_1a8[name];}else{opf=op[name];do{_1a8=base.prototype;f=_1a8[name];if(f&&(base._meta?_1a8.hasOwnProperty(name):f!==opf)){break;}}while(base=_1a6[++pos]);}}f=base&&f||op[name];}else{if(_1a9.c!==_1a7){pos=0;meta=_1a6[0]._meta;if(meta&&meta.ctor!==_1a7){_1a5=meta.chains;if(!_1a5||_1a5.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(base=_1a6[++pos]){meta=base._meta;if(meta&&meta.ctor===_1a7){break;}}pos=base?pos:-1;}}while(base=_1a6[++pos]){meta=base._meta;f=meta?meta.ctor:base;if(f){break;}}f=base&&f;}_1a9.c=f;_1a9.p=pos;if(f){return a===true?f:f.apply(this,a||args);}};function _1aa(name,args){if(typeof name=="string"){return this.__inherited(name,args,true);}return this.__inherited(name,true);};function _1ab(args,a1,a2){var f=this.getInherited(args,a1);if(f){return f.apply(this,a2||a1||args);}};var _1ac=dojo.config.isDebug?_1ab:_1a4;function _1ad(cls){var _1ae=this.constructor._meta.bases;for(var i=0,l=_1ae.length;i<l;++i){if(_1ae[i]===cls){return true;}}return this instanceof cls;};function _1af(_1b0,_1b1){for(var name in _1b1){if(name!=_19b&&_1b1.hasOwnProperty(name)){_1b0[name]=_1b1[name];}}if(has("bug-for-in-skips-shadowed")){for(var _1b2=lang._extraNames,i=_1b2.length;i;){name=_1b2[--i];if(name!=_19b&&_1b1.hasOwnProperty(name)){_1b0[name]=_1b1[name];}}}};function _1b3(_1b4,_1b5){var name,t;for(name in _1b5){t=_1b5[name];if((t!==op[name]||!(name in op))&&name!=_19b){if(opts.call(t)=="[object Function]"){t.nom=name;}_1b4[name]=t;}}if(has("bug-for-in-skips-shadowed")){for(var _1b6=lang._extraNames,i=_1b6.length;i;){name=_1b6[--i];t=_1b5[name];if((t!==op[name]||!(name in op))&&name!=_19b){if(opts.call(t)=="[object Function]"){t.nom=name;}_1b4[name]=t;}}}return _1b4;};function _1b7(_1b8){_1b9.safeMixin(this.prototype,_1b8);return this;};function _1ba(_1bb){return _1b9([this].concat(_1bb));};function _1bc(_1bd,_1be){return function(){var a=arguments,args=a,a0=a[0],f,i,m,l=_1bd.length,_1bf;if(!(this instanceof a.callee)){return _1c0(a);}if(_1be&&(a0&&a0.preamble||this.preamble)){_1bf=new Array(_1bd.length);_1bf[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_1bd[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_1bf[i]=a;}}for(i=l-1;i>=0;--i){f=_1bd[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_1bf?_1bf[i]:a);}}f=this.postscript;if(f){f.apply(this,args);}};};function _1c1(ctor,_1c2){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _1c0(a);}if(_1c2){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(ctor){ctor.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _1c3(_1c4){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _1c0(a);}for(;f=_1c4[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _1c5(name,_1c6,_1c7){return function(){var b,m,f,i=0,step=1;if(_1c7){i=_1c6.length-1;step=-1;}for(;b=_1c6[i];i+=step){m=b._meta;f=(m?m.hidden:b.prototype)[name];if(f){f.apply(this,arguments);}}};};function _1c8(ctor){xtor.prototype=ctor.prototype;var t=new xtor;xtor.prototype=null;return t;};function _1c0(args){var ctor=args.callee,t=_1c8(ctor);ctor.apply(t,args);return t;};function _1b9(_1c9,_1ca,_1cb){if(typeof _1c9!="string"){_1cb=_1ca;_1ca=_1c9;_1c9="";}_1cb=_1cb||{};var _1cc,i,t,ctor,name,_1cd,_1ce,_1cf=1,_1d0=_1ca;if(opts.call(_1ca)=="[object Array]"){_1cd=_19c(_1ca,_1c9);t=_1cd[0];_1cf=_1cd.length-t;_1ca=_1cd[_1cf];}else{_1cd=[0];if(_1ca){if(opts.call(_1ca)=="[object Function]"){t=_1ca._meta;_1cd=_1cd.concat(t?t.bases:_1ca);}else{err("base class is not a callable constructor.",_1c9);}}else{if(_1ca!==null){err("unknown base class. Did you use dojo.require to pull it in?",_1c9);}}}if(_1ca){for(i=_1cf-1;;--i){_1cc=_1c8(_1ca);if(!i){break;}t=_1cd[i];(t._meta?_1af:mix)(_1cc,t.prototype);ctor=new Function;ctor.superclass=_1ca;ctor.prototype=_1cc;_1ca=_1cc.constructor=ctor;}}else{_1cc={};}_1b9.safeMixin(_1cc,_1cb);t=_1cb.constructor;if(t!==op.constructor){t.nom=_19b;_1cc.constructor=t;}for(i=_1cf-1;i;--i){t=_1cd[i]._meta;if(t&&t.chains){_1ce=mix(_1ce||{},t.chains);}}if(_1cc["-chains-"]){_1ce=mix(_1ce||{},_1cc["-chains-"]);}t=!_1ce||!_1ce.hasOwnProperty(_19b);_1cd[0]=ctor=(_1ce&&_1ce.constructor==="manual")?_1c3(_1cd):(_1cd.length==1?_1c1(_1cb.constructor,t):_1bc(_1cd,t));ctor._meta={bases:_1cd,hidden:_1cb,chains:_1ce,parents:_1d0,ctor:_1cb.constructor};ctor.superclass=_1ca&&_1ca.prototype;ctor.extend=_1b7;ctor.createSubclass=_1ba;ctor.prototype=_1cc;_1cc.constructor=ctor;_1cc.getInherited=_1aa;_1cc.isInstanceOf=_1ad;_1cc.inherited=_1ac;_1cc.__inherited=_1a4;if(_1c9){_1cc.declaredClass=_1c9;lang.setObject(_1c9,ctor);}if(_1ce){for(name in _1ce){if(_1cc[name]&&typeof _1ce[name]=="string"&&name!=_19b){t=_1cc[name]=_1c5(name,_1cd,_1ce[name]==="after");t.nom=name;}}}return ctor;};dojo.safeMixin=_1b9.safeMixin=_1b3;dojo.declare=_1b9;return _1b9;});},"dojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(dojo,on,hub,_1d1,_1d2,_1d3,has,lang){has.add("events-keypress-typed",function(){var _1d4={charCode:0};try{_1d4=document.createEvent("KeyboardEvent");(_1d4.initKeyboardEvent||_1d4.initKeyEvent).call(_1d4,"keypress",true,true,null,false,false,false,false,9,3);}catch(e){}return _1d4.charCode==0&&!has("opera");});function _1d5(obj,_1d6,_1d7,_1d8,_1d9){_1d8=lang.hitch(_1d7,_1d8);if(!obj||!(obj.addEventListener||obj.attachEvent)){return _1d1.after(obj||dojo.global,_1d6,_1d8,true);}if(typeof _1d6=="string"&&_1d6.substring(0,2)=="on"){_1d6=_1d6.substring(2);}if(!obj){obj=dojo.global;}if(!_1d9){switch(_1d6){case "keypress":_1d6=_1da;break;case "mouseenter":_1d6=_1d3.enter;break;case "mouseleave":_1d6=_1d3.leave;break;}}return on(obj,_1d6,_1d8,_1d9);};var _1db={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113};var _1dc=has("mac")?"metaKey":"ctrlKey";var _1dd=function(evt,_1de){var faux=lang.mixin({},evt,_1de);_1df(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};function _1df(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _1da;if(has("events-keypress-typed")){var _1e0=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};_1da=function(_1e1,_1e2){var _1e3=on(_1e1,"keydown",function(evt){var k=evt.keyCode;var _1e4=(k!=13||(has("ie")>=9&&!has("quirks")))&&k!=32&&(k!=27||!has("ie"))&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222)&&k!=229;if(_1e4||evt.ctrlKey){var c=_1e4?0:k;if(evt.ctrlKey){if(k==3||k==13){return _1e2.call(evt.currentTarget,evt);}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=_1db[c]||c;}}}}var faux=_1dd(evt,{type:"keypress",faux:true,charCode:c});_1e2.call(evt.currentTarget,faux);if(has("ie")){_1e0(evt,faux.keyCode);}}});var _1e5=on(_1e1,"keypress",function(evt){var c=evt.charCode;c=c>=32?c:0;evt=_1dd(evt,{charCode:c,faux:true});return _1e2.call(this,evt);});return {remove:function(){_1e3.remove();_1e5.remove();}};};}else{if(has("opera")){_1da=function(_1e6,_1e7){return on(_1e6,"keypress",function(evt){var c=evt.which;if(c==3){c=99;}c=c<32&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return _1e7.call(this,_1dd(evt,{charCode:c}));});};}else{_1da=function(_1e8,_1e9){return on(_1e8,"keypress",function(evt){_1df(evt);return _1e9.call(this,evt);});};}}var _1ea={_keypress:_1da,connect:function(obj,_1eb,_1ec,_1ed,_1ee){var a=arguments,args=[],i=0;args.push(typeof a[0]=="string"?null:a[i++],a[i++]);var a1=a[i+1];args.push(typeof a1=="string"||typeof a1=="function"?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){args.push(a[i]);}return _1d5.apply(this,args);},disconnect:function(_1ef){if(_1ef){_1ef.remove();}},subscribe:function(_1f0,_1f1,_1f2){return hub.subscribe(_1f0,lang.hitch(_1f1,_1f2));},publish:function(_1f3,args){return hub.publish.apply(hub,[_1f3].concat(args));},connectPublisher:function(_1f4,obj,_1f5){var pf=function(){_1ea.publish(_1f4,arguments);};return _1f5?_1ea.connect(obj,_1f5,pf):_1ea.connect(obj,pf);},isCopyKey:function(e){return e[_1dc];}};_1ea.unsubscribe=_1ea.disconnect;1&&lang.mixin(dojo,_1ea);return _1ea;});},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(_1f6,dojo,has){"use strict";if(0){var _1f7=window.ScriptEngineMajorVersion;has.add("jscript",_1f7&&(_1f7()+ScriptEngineMinorVersion()/10));has.add("event-orientationchange",has("touch")&&!has("android"));has.add("event-stopimmediatepropogation",window.Event&&!!window.Event.prototype.stopImmediatePropagation);}var on=function(_1f8,type,_1f9,_1fa){if(_1f8.on){return _1f8.on(type,_1f9);}return on.parse(_1f8,type,_1f9,_1fb,_1fa,this);};on.pausable=function(_1fc,type,_1fd,_1fe){var _1ff;var _200=on(_1fc,type,function(){if(!_1ff){return _1fd.apply(this,arguments);}},_1fe);_200.pause=function(){_1ff=true;};_200.resume=function(){_1ff=false;};return _200;};on.once=function(_201,type,_202,_203){var _204=on(_201,type,function(){_204.remove();return _202.apply(this,arguments);});return _204;};on.parse=function(_205,type,_206,_207,_208,_209){if(type.call){return type.call(_209,_205,_206);}if(type.indexOf(",")>-1){var _20a=type.split(/\s*,\s*/);var _20b=[];var i=0;var _20c;while(_20c=_20a[i++]){_20b.push(_207(_205,_20c,_206,_208,_209));}_20b.remove=function(){for(var i=0;i<_20b.length;i++){_20b[i].remove();}};return _20b;}return _207(_205,type,_206,_208,_209);};var _20d=/^touch/;function _1fb(_20e,type,_20f,_210,_211){var _212=type.match(/(.*):(.*)/);if(_212){type=_212[2];_212=_212[1];return on.selector(_212,type).call(_211,_20e,_20f);}if(has("touch")){if(_20d.test(type)){_20f=_213(_20f);}if(!has("event-orientationchange")&&(type=="orientationchange")){type="resize";_20e=window;_20f=_213(_20f);}}if(_214){_20f=_214(_20f);}if(_20e.addEventListener){var _215=type in _216,_217=_215?_216[type]:type;_20e.addEventListener(_217,_20f,_215);return {remove:function(){_20e.removeEventListener(_217,_20f,_215);}};}type="on"+type;if(_218&&_20e.attachEvent){return _218(_20e,type,_20f);}throw new Error("Target must be an event emitter");};on.selector=function(_219,_21a,_21b){return function(_21c,_21d){var _21e=typeof _219=="function"?{matches:_219}:this,_21f=_21a.bubble;function _220(_221){_21e=_21e&&_21e.matches?_21e:dojo.query;while(!_21e.matches(_221,_219,_21c)){if(_221==_21c||_21b===false||!(_221=_221.parentNode)||_221.nodeType!=1){return;}}return _221;};if(_21f){return on(_21c,_21f(_220),_21d);}return on(_21c,_21a,function(_222){var _223=_220(_222.target);return _223&&_21d.call(_223,_222);});};};function _224(){this.cancelable=false;};function _225(){this.bubbles=false;};var _226=[].slice,_227=on.emit=function(_228,type,_229){var args=_226.call(arguments,2);var _22a="on"+type;if("parentNode" in _228){var _22b=args[0]={};for(var i in _229){_22b[i]=_229[i];}_22b.preventDefault=_224;_22b.stopPropagation=_225;_22b.target=_228;_22b.type=type;_229=_22b;}do{_228[_22a]&&_228[_22a].apply(_228,args);}while(_229&&_229.bubbles&&(_228=_228.parentNode));return _229&&_229.cancelable&&_229;};var _216={};if(!has("event-stopimmediatepropogation")){var _22c=function(){this.immediatelyStopped=true;this.modified=true;};var _214=function(_22d){return function(_22e){if(!_22e.immediatelyStopped){_22e.stopImmediatePropagation=_22c;return _22d.apply(this,arguments);}};};}if(has("dom-addeventlistener")){_216={focusin:"focus",focusout:"blur"};if(has("opera")){_216.keydown="keypress";}on.emit=function(_22f,type,_230){if(_22f.dispatchEvent&&document.createEvent){var _231=_22f.ownerDocument.createEvent("HTMLEvents");_231.initEvent(type,!!_230.bubbles,!!_230.cancelable);for(var i in _230){var _232=_230[i];if(!(i in _231)){_231[i]=_230[i];}}return _22f.dispatchEvent(_231)&&_231;}return _227.apply(on,arguments);};}else{on._fixEvent=function(evt,_233){if(!evt){var w=_233&&(_233.ownerDocument||_233.document||_233).parentWindow||window;evt=w.event;}if(!evt){return evt;}if(_234&&evt.type==_234.type){evt=_234;}if(!evt.target){evt.target=evt.srcElement;evt.currentTarget=(_233||evt.srcElement);if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(!evt.stopPropagation){evt.stopPropagation=_235;evt.preventDefault=_236;}switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;_237(evt);break;}}return evt;};var _234,_238=function(_239){this.handle=_239;};_238.prototype.remove=function(){delete _dojoIEListeners_[this.handle];};var _23a=function(_23b){return function(evt){evt=on._fixEvent(evt,this);var _23c=_23b.call(this,evt);if(evt.modified){if(!_234){setTimeout(function(){_234=null;});}_234=evt;}return _23c;};};var _218=function(_23d,type,_23e){_23e=_23a(_23e);if(((_23d.ownerDocument?_23d.ownerDocument.parentWindow:_23d.parentWindow||_23d.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){if(typeof _dojoIEListeners_=="undefined"){_dojoIEListeners_=[];}var _23f=_23d[type];if(!_23f||!_23f.listeners){var _240=_23f;_23f=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");_23f.listeners=[];_23d[type]=_23f;_23f.global=this;if(_240){_23f.listeners.push(_dojoIEListeners_.push(_240)-1);}}var _241;_23f.listeners.push(_241=(_23f.global._dojoIEListeners_.push(_23e)-1));return new _238(_241);}return _1f6.after(_23d,type,_23e,true);};var _237=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;};var _235=function(){this.cancelBubble=true;};var _236=on._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){try{this.keyCode=0;}catch(e){}}this.defaultPrevented=true;this.returnValue=false;};}if(has("touch")){var _242=function(){};var _243=window.orientation;var _213=function(_244){return function(_245){var _246=_245.corrected;if(!_246){var type=_245.type;try{delete _245.type;}catch(e){}if(_245.type){_242.prototype=_245;var _246=new _242;_246.preventDefault=function(){_245.preventDefault();};_246.stopPropagation=function(){_245.stopPropagation();};}else{_246=_245;_246.type=type;}_245.corrected=_246;if(type=="resize"){if(_243==window.orientation){return null;}_243=window.orientation;_246.type="orientationchange";return _244.call(this,_246);}if(!("rotation" in _246)){_246.rotation=0;_246.scale=1;}var _247=_246.changedTouches[0];for(var i in _247){delete _246[i];_246[i]=_247[i];}}return _244.call(this,_246);};};}return on;});},"dojo/topic":function(){define(["./Evented"],function(_248){var hub=new _248;return {publish:function(_249,_24a){return hub.emit.apply(hub,arguments);},subscribe:function(_24b,_24c){return hub.on.apply(hub,arguments);}};});},"dojo/Evented":function(){define(["./aspect","./on"],function(_24d,on){"use strict";var _24e=_24d.after;function _24f(){};_24f.prototype={on:function(type,_250){return on.parse(this,type,_250,function(_251,type){return _24e(_251,"on"+type,_250,true);});},emit:function(type,_252){var args=[this];args.push.apply(args,arguments);return on.emit.apply(on,args);}};return _24f;});},"dojo/aspect":function(){define("dojo/aspect",[],function(){"use strict";var _253=0;function _254(_255,type,_256,_257){var _258=_255[type];var _259=type=="around";var _25a;if(_259){var _25b=_256(function(){return _258.advice(this,arguments);});_25a={remove:function(){_25a.cancelled=true;},advice:function(_25c,args){return _25a.cancelled?_258.advice(_25c,args):_25b.apply(_25c,args);}};}else{_25a={remove:function(){var _25d=_25a.previous;var next=_25a.next;if(!next&&!_25d){delete _255[type];}else{if(_25d){_25d.next=next;}else{_255[type]=next;}if(next){next.previous=_25d;}}},id:_253++,advice:_256,receiveArguments:_257};}if(_258&&!_259){if(type=="after"){var next=_258;while(next){_258=next;next=next.next;}_258.next=_25a;_25a.previous=_258;}else{if(type=="before"){_255[type]=_25a;_25a.next=_258;_258.previous=_25a;}}}else{_255[type]=_25a;}return _25a;};function _25e(type){return function(_25f,_260,_261,_262){var _263=_25f[_260],_264;if(!_263||_263.target!=_25f){_25f[_260]=_264=function(){var _265=_253;var args=arguments;var _266=_264.before;while(_266){args=_266.advice.apply(this,args)||args;_266=_266.next;}if(_264.around){var _267=_264.around.advice(this,args);}var _268=_264.after;while(_268&&_268.id<_265){_267=_268.receiveArguments?_268.advice.apply(this,args)||_267:_268.advice.call(this,_267);_268=_268.next;}return _267;};if(_263){_264.around={advice:function(_269,args){return _263.apply(_269,args);}};}_264.target=_25f;}var _26a=_254((_264||_263),type,_261,_262);_261=null;return _26a;};};var _26b=_25e("after");var _26c=_25e("before");var _26d=_25e("around");return {before:_26c,around:_26d,after:_26b};});},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(dojo,on,has,dom){if(on._fixEvent){var _26e=on._fixEvent;on._fixEvent=function(evt,se){evt=_26e(evt,se);if(evt){dom.normalizeEvent(evt);}return evt;};}dojo.fixEvent=function(evt,_26f){if(on._fixEvent){return on._fixEvent(evt,_26f);}return evt;};dojo.stopEvent=function(evt){if(has("dom-addeventlistener")||(evt&&evt.preventDefault)){evt.preventDefault();evt.stopPropagation();}else{evt=evt||window.event;evt.cancelBubble=true;on._preventDefault.call(evt);}};return {fix:dojo.fixEvent,stop:dojo.stopEvent};});},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(has,win,dom,_270){var geom={};geom.boxModel="content-box";if(has("ie")){geom.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}geom.getPadExtents=function getPadExtents(node,_271){node=dom.byId(node);var s=_271||_270.getComputedStyle(node),px=_270.toPixelValue,l=px(node,s.paddingLeft),t=px(node,s.paddingTop),r=px(node,s.paddingRight),b=px(node,s.paddingBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};var none="none";geom.getBorderExtents=function getBorderExtents(node,_272){node=dom.byId(node);var px=_270.toPixelValue,s=_272||_270.getComputedStyle(node),l=s.borderLeftStyle!=none?px(node,s.borderLeftWidth):0,t=s.borderTopStyle!=none?px(node,s.borderTopWidth):0,r=s.borderRightStyle!=none?px(node,s.borderRightWidth):0,b=s.borderBottomStyle!=none?px(node,s.borderBottomWidth):0;return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getPadBorderExtents=function getPadBorderExtents(node,_273){node=dom.byId(node);var s=_273||_270.getComputedStyle(node),p=geom.getPadExtents(node,s),b=geom.getBorderExtents(node,s);return {l:p.l+b.l,t:p.t+b.t,r:p.r+b.r,b:p.b+b.b,w:p.w+b.w,h:p.h+b.h};};geom.getMarginExtents=function getMarginExtents(node,_274){node=dom.byId(node);var s=_274||_270.getComputedStyle(node),px=_270.toPixelValue,l=px(node,s.marginLeft),t=px(node,s.marginTop),r=px(node,s.marginRight),b=px(node,s.marginBottom);return {l:l,t:t,r:r,b:b,w:l+r,h:t+b};};geom.getMarginBox=function getMarginBox(node,_275){node=dom.byId(node);var s=_275||_270.getComputedStyle(node),me=geom.getMarginExtents(node,s),l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode,px=_270.toPixelValue,pcs;if(has("mozilla")){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl;t=st;}else{if(p&&p.style){pcs=_270.getComputedStyle(p);if(pcs.overflow!="visible"){l+=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t+=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}}else{if(has("opera")||(has("ie")==8&&!has("quirks"))){if(p){pcs=_270.getComputedStyle(p);l-=pcs.borderLeftStyle!=none?px(node,pcs.borderLeftWidth):0;t-=pcs.borderTopStyle!=none?px(node,pcs.borderTopWidth):0;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};geom.getContentBox=function getContentBox(node,_276){node=dom.byId(node);var s=_276||_270.getComputedStyle(node),w=node.clientWidth,h,pe=geom.getPadExtents(node,s),be=geom.getBorderExtents(node,s);if(!w){w=node.offsetWidth;h=node.offsetHeight;}else{h=node.clientHeight;be.w=be.h=0;}if(has("opera")){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};function _277(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};function _278(node){return node.tagName.toLowerCase()=="button"||node.tagName.toLowerCase()=="input"&&(node.getAttribute("type")||"").toLowerCase()=="button";};function _279(node){return geom.boxModel=="border-box"||node.tagName.toLowerCase()=="table"||_278(node);};geom.setContentSize=function setContentSize(node,box,_27a){node=dom.byId(node);var w=box.w,h=box.h;if(_279(node)){var pb=geom.getPadBorderExtents(node,_27a);if(w>=0){w+=pb.w;}if(h>=0){h+=pb.h;}}_277(node,NaN,NaN,w,h);};var _27b={l:0,t:0,w:0,h:0};geom.setMarginBox=function setMarginBox(node,box,_27c){node=dom.byId(node);var s=_27c||_270.getComputedStyle(node),w=box.w,h=box.h,pb=_279(node)?_27b:geom.getPadBorderExtents(node,s),mb=geom.getMarginExtents(node,s);if(has("webkit")){if(_278(node)){var ns=node.style;if(w>=0&&!ns.width){ns.width="4px";}if(h>=0&&!ns.height){ns.height="4px";}}}if(w>=0){w=Math.max(w-pb.w-mb.w,0);}if(h>=0){h=Math.max(h-pb.h-mb.h,0);}_277(node,box.l,box.t,w,h);};geom.isBodyLtr=function isBodyLtr(doc){doc=doc||win.doc;return (win.body(doc).dir||doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};geom.docScroll=function docScroll(doc){doc=doc||win.doc;var node=win.doc.parentWindow||win.doc.defaultView;return "pageXOffset" in node?{x:node.pageXOffset,y:node.pageYOffset}:(node=has("quirks")?win.body(doc):doc.documentElement)&&{x:geom.fixIeBiDiScrollLeft(node.scrollLeft||0,doc),y:node.scrollTop||0};};if(has("ie")){geom.getIeDocumentElementOffset=function getIeDocumentElementOffset(doc){doc=doc||win.doc;var de=doc.documentElement;if(has("ie")<8){var r=de.getBoundingClientRect(),l=r.left,t=r.top;if(has("ie")<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};}geom.fixIeBiDiScrollLeft=function fixIeBiDiScrollLeft(_27d,doc){doc=doc||win.doc;var ie=has("ie");if(ie&&!geom.isBodyLtr(doc)){var qk=has("quirks"),de=qk?win.body(doc):doc.documentElement,pwin=win.global;if(ie==6&&!qk&&pwin.frameElement&&de.scrollHeight>de.clientHeight){_27d+=de.clientLeft;}return (ie<8||qk)?(_27d+de.clientWidth-de.scrollWidth):-_27d;}return _27d;};geom.position=function(node,_27e){node=dom.byId(node);var db=win.body(node.ownerDocument),dh=db.parentNode,ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(has("ie")){var _27f=geom.getIeDocumentElementOffset(node.ownerDocument);ret.x-=_27f.x+(has("quirks")?db.clientLeft+db.offsetLeft:0);ret.y-=_27f.y+(has("quirks")?db.clientTop+db.offsetTop:0);}if(_27e){var _280=geom.docScroll(node.ownerDocument);ret.x+=_280.x;ret.y+=_280.y;}return ret;};geom.getMarginSize=function getMarginSize(node,_281){node=dom.byId(node);var me=geom.getMarginExtents(node,_281||_270.getComputedStyle(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};geom.normalizeEvent=function(_282){if(!("layerX" in _282)){_282.layerX=_282.offsetX;_282.layerY=_282.offsetY;}if(!has("dom-addeventlistener")){var se=_282.target;var doc=(se&&se.ownerDocument)||document;var _283=has("quirks")?doc.body:doc.documentElement;var _284=geom.getIeDocumentElementOffset(doc);_282.pageX=_282.clientX+geom.fixIeBiDiScrollLeft(_283.scrollLeft||0,doc)-_284.x;_282.pageY=_282.clientY+(_283.scrollTop||0)-_284.y;}};return geom;});},"dojo/_base/window":function(){define(["./kernel","../sniff"],function(dojo,has){dojo.doc=this["document"]||null;dojo.body=function(doc){doc=doc||dojo.doc;return doc.body||doc.getElementsByTagName("body")[0];};dojo.setContext=function(_285,_286){dojo.global=ret.global=_285;dojo.doc=ret.doc=_286;};dojo.withGlobal=function(_287,_288,_289,_28a){var _28b=dojo.global;try{dojo.global=ret.global=_287;return dojo.withDoc.call(null,_287.document,_288,_289,_28a);}finally{dojo.global=ret.global=_28b;}};dojo.withDoc=function(_28c,_28d,_28e,_28f){var _290=dojo.doc,oldQ=has("quirks"),_291=has("ie"),isIE,mode,pwin;try{dojo.doc=ret.doc=_28c;dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",true,true);if(has("ie")){if((pwin=_28c.parentWindow)&&pwin.navigator){isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined;mode=_28c.documentMode;if(mode&&mode!=5&&Math.floor(isIE)!=mode){isIE=mode;}dojo.isIE=has.add("ie",isIE,true,true);}}if(_28e&&typeof _28d=="string"){_28d=_28e[_28d];}return _28d.apply(_28e,_28f||[]);}finally{dojo.doc=ret.doc=_290;dojo.isQuirks=has.add("quirks",oldQ,true,true);dojo.isIE=has.add("ie",_291,true,true);}};var ret={global:dojo.global,doc:dojo.doc,body:dojo.body,setContext:dojo.setContext,withGlobal:dojo.withGlobal,withDoc:dojo.withDoc};return ret;});},"dojo/dom":function(){define(["./sniff","./_base/lang","./_base/window"],function(has,lang,win){if(has("ie")<=7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}var dom={};if(has("ie")){dom.byId=function(id,doc){if(typeof id!="string"){return id;}var _292=doc||win.doc,te=id&&_292.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_292.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dom.byId=function(id,doc){return ((typeof id=="string")?(doc||win.doc).getElementById(id):id)||null;};}dom.isDescendant=function(node,_293){try{node=dom.byId(node);_293=dom.byId(_293);while(node){if(node==_293){return true;}node=node.parentNode;}}catch(e){}return false;};dom.setSelectable=function(node,_294){node=dom.byId(node);if(has("mozilla")){node.style.MozUserSelect=_294?"":"none";}else{if(has("khtml")||has("webkit")){node.style.KhtmlUserSelect=_294?"auto":"none";}else{if(has("ie")){var v=(node.unselectable=_294?"":"on"),cs=node.getElementsByTagName("*"),i=0,l=cs.length;for(;i<l;++i){cs.item(i).unselectable=v;}}}}};return dom;});},"dojo/dom-style":function(){define(["./sniff","./dom"],function(has,dom){var _295,_296={};if(has("webkit")){_295=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(has("ie")&&(has("ie")<9||has("quirks"))){_295=function(node){return node.nodeType==1&&node.currentStyle?node.currentStyle:{};};}else{_295=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}_296.getComputedStyle=_295;var _297;if(!has("ie")){_297=function(_298,_299){return parseFloat(_299)||0;};}else{_297=function(_29a,_29b){if(!_29b){return 0;}if(_29b=="medium"){return 4;}if(_29b.slice&&_29b.slice(-2)=="px"){return parseFloat(_29b);}var s=_29a.style,rs=_29a.runtimeStyle,cs=_29a.currentStyle,_29c=s.left,_29d=rs.left;rs.left=cs.left;try{s.left=_29b;_29b=s.pixelLeft;}catch(e){_29b=0;}s.left=_29c;rs.left=_29d;return _29b;};}_296.toPixelValue=_297;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};var _29e=has("ie")<9||(has("ie")&&has("quirks"))?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return _295(node).opacity;};var _29f=has("ie")<9||(has("ie")&&has("quirks"))?function(node,_2a0){var ov=_2a0*100,_2a1=_2a0==1;node.style.zoom=_2a1?"":1;if(!af(node)){if(_2a1){return _2a0;}node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}else{af(node,1).Opacity=ov;}af(node,1).Enabled=!_2a1;if(node.tagName.toLowerCase()=="tr"){for(var td=node.firstChild;td;td=td.nextSibling){if(td.tagName.toLowerCase()=="td"){_29f(td,_2a0);}}}return _2a0;}:function(node,_2a2){return node.style.opacity=_2a2;};var _2a3={left:true,top:true};var _2a4=/margin|padding|width|height|max|min|offset/;function _2a5(node,type,_2a6){type=type.toLowerCase();if(has("ie")){if(_2a6=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_2a6){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _2a3)){_2a3[type]=_2a4.test(type);}return _2a3[type]?_297(node,_2a6):_2a6;};var _2a7=has("ie")?"styleFloat":"cssFloat",_2a8={"cssFloat":_2a7,"styleFloat":_2a7,"float":_2a7};_296.get=function getStyle(node,name){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");if(l==2&&op){return _29e(n);}name=_2a8[name]||name;var s=_296.getComputedStyle(n);return (l==1)?s:_2a5(n,name,s[name]||n.style[name]);};_296.set=function setStyle(node,name,_2a9){var n=dom.byId(node),l=arguments.length,op=(name=="opacity");name=_2a8[name]||name;if(l==3){return op?_29f(n,_2a9):n.style[name]=_2a9;}for(var x in name){_296.set(node,x,name[x]);}return _296.getComputedStyle(n);};return _296;});},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(dojo,on,has,dom,win){has.add("dom-quirks",win.doc&&win.doc.compatMode=="BackCompat");has.add("events-mouseenter",win.doc&&"onmouseenter" in win.doc.createElement("div"));var _2aa;if(has("dom-quirks")||!has("dom-addeventlistener")){_2aa={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_2ab){return e.button&_2ab;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{_2aa={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_2ac){return e.button==_2ac;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}dojo.mouseButtons=_2aa;function _2ad(type,_2ae){var _2af=function(node,_2b0){return on(node,type,function(evt){if(_2ae){return _2ae(evt,_2b0);}if(!dom.isDescendant(evt.relatedTarget,node)){return _2b0.call(this,evt);}});};_2af.bubble=function(_2b1){return _2ad(type,function(evt,_2b2){var _2b3=_2b1(evt.target);var _2b4=evt.relatedTarget;if(_2b3&&(_2b3!=(_2b4&&_2b4.nodeType==1&&_2b1(_2b4)))){return _2b2.call(_2b3,evt);}});};return _2af;};return {_eventHandler:_2ad,enter:_2ad("mouseover"),leave:_2ad("mouseout"),isLeft:_2aa.isLeft,isMiddle:_2aa.isMiddle,isRight:_2aa.isRight};});},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(dojo,has){return dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")&&!has("air")?(has("safari")?91:224):17};});},"dojo/_base/Deferred":function(){define(["./kernel","./config","./lang","../promise/Promise","../when"],function(dojo,_2b5,lang,_2b6,when){var _2b7=function(){};var _2b8=Object.freeze||function(){};dojo.Deferred=function(_2b9){var _2ba,_2bb,_2bc,head,_2bd;var _2be=(this.promise=new _2b6);function _2bf(_2c0){if(_2bb){throw new Error("This deferred has already been resolved");}_2ba=_2c0;_2bb=true;_2c1();};function _2c1(){var _2c2;while(!_2c2&&_2bd){var _2c3=_2bd;_2bd=_2bd.next;if((_2c2=(_2c3.progress==_2b7))){_2bb=false;}var func=(_2bc?_2c3.error:_2c3.resolved);if(func){try{var _2c4=func(_2ba);if(_2c4&&typeof _2c4.then==="function"){_2c4.then(lang.hitch(_2c3.deferred,"resolve"),lang.hitch(_2c3.deferred,"reject"),lang.hitch(_2c3.deferred,"progress"));continue;}var _2c5=_2c2&&_2c4===undefined;if(_2c2&&!_2c5){_2bc=_2c4 instanceof Error;}_2c3.deferred[_2c5&&_2bc?"reject":"resolve"](_2c5?_2ba:_2c4);}catch(e){_2c3.deferred.reject(e);}}else{if(_2bc){_2c3.deferred.reject(_2ba);}else{_2c3.deferred.resolve(_2ba);}}}};this.resolve=this.callback=function(_2c6){this.fired=0;this.results=[_2c6,null];_2bf(_2c6);};this.reject=this.errback=function(_2c7){_2bc=true;this.fired=1;_2bf(_2c7);this.results=[null,_2c7];};this.progress=function(_2c8){var _2c9=_2bd;while(_2c9){var _2ca=_2c9.progress;_2ca&&_2ca(_2c8);_2c9=_2c9.next;}};this.addCallbacks=function(_2cb,_2cc){this.then(_2cb,_2cc,_2b7);return this;};_2be.then=this.then=function(_2cd,_2ce,_2cf){var _2d0=_2cf==_2b7?this:new dojo.Deferred(_2be.cancel);var _2d1={resolved:_2cd,error:_2ce,progress:_2cf,deferred:_2d0};if(_2bd){head=head.next=_2d1;}else{_2bd=head=_2d1;}if(_2bb){_2c1();}return _2d0.promise;};var _2d2=this;_2be.cancel=this.cancel=function(){if(!_2bb){var _2d3=_2b9&&_2b9(_2d2);if(!_2bb){if(!(_2d3 instanceof Error)){_2d3=new Error(_2d3);}_2d3.log=false;_2d2.reject(_2d3);}}};_2b8(_2be);};lang.extend(dojo.Deferred,{addCallback:function(_2d4){return this.addCallbacks(lang.hitch.apply(dojo,arguments));},addErrback:function(_2d5){return this.addCallbacks(null,lang.hitch.apply(dojo,arguments));},addBoth:function(_2d6){var _2d7=lang.hitch.apply(dojo,arguments);return this.addCallbacks(_2d7,_2d7);},fired:-1});dojo.Deferred.when=dojo.when=when;return dojo.Deferred;});},"dojo/promise/Promise":function(){define(["../_base/lang"],function(lang){"use strict";function _2d8(){throw new TypeError("abstract");};return lang.extend(function Promise(){},{then:function(_2d9,_2da,_2db){_2d8();},cancel:function(_2dc){_2d8();},isResolved:function(){_2d8();},isRejected:function(){_2d8();},isFulfilled:function(){_2d8();},isCanceled:function(){_2d8();},fail:function(_2dd){return this.then(null,_2dd);},always:function(_2de){return this.then(_2de,_2de);},trace:function(){return this;},traceRejected:function(){return this;}});});},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(_2df,_2e0){"use strict";return function when(_2e1,_2e2,_2e3,_2e4){var _2e5=_2e1&&typeof _2e1.then==="function";var _2e6=_2e5&&_2e1 instanceof _2e0;if(!_2e5){if(_2e2){return _2e2(_2e1);}else{return new _2df().resolve(_2e1);}}else{if(!_2e6){var _2e7=new _2df(_2e1.cancel);_2e1.then(_2e7.resolve,_2e7.reject,_2e7.progress);_2e1=_2e7.promise;}}if(_2e2||_2e3||_2e4){return _2e1.then(_2e2,_2e3,_2e4);}return _2e1;};});},"dojo/Deferred":function(){define("dojo/Deferred",["./_base/lang","./promise/CancelError","./promise/Promise"],function(lang,_2e8,_2e9){"use strict";var _2ea=0,_2eb=1,_2ec=2;var _2ed="This deferred has already been fulfilled.";var noop=function(){};var _2ee=Object.freeze||noop;var _2ef=[];var _2f0=function(_2f1,type,_2f2){for(var i=0;i<_2f1.length;i++){_2f3(_2f1[i],type,_2f2);}};var _2f3=function(_2f4,type,_2f5){var func=_2f4[type];var _2f6=_2f4.deferred;var _2f7=true;if(func){try{var _2f8=func(_2f5);if(_2f8&&typeof _2f8.then==="function"){_2f4.cancel=_2f8.cancel;if(typeof _2f8.isFulfilled==="function"){_2f7=_2f8.isFulfilled();}_2f8.then(_2f9(_2f6,_2eb,_2f7),_2f9(_2f6,_2ec,_2f7),_2f9(_2f6,_2ea,_2f7));return;}_2fa(_2f6,_2eb,_2f7,_2f8);}catch(error){_2fa(_2f6,_2ec,_2f7,error);}}else{_2fa(_2f6,type,_2f7,_2f5);}};var _2f9=function(_2fb,type,_2fc){return function(_2fd){_2fa(_2fb,type,_2fc,_2fd);};};var _2fa=function(_2fe,type,_2ff,_300){var _301=_2ef.length;_2ef.push(_2fe,type,_300);if(_301>0&&!_2ff){return;}for(var i=_301;i<_2ef.length;i+=3){if(!_2ef[i].isCanceled()){switch(_2ef[i+1]){case _2ea:_2ef[i].progress(_2ef[i+2]);break;case _2eb:_2ef[i].resolve(_2ef[i+2]);break;case _2ec:_2ef[i].reject(_2ef[i+2]);break;}}}_2ef.length=_301;};var _302=lang.extend(function(_303){var _304=this.promise=new _2e9();var _305,_306;var _307=false;var _308=[];this.isResolved=_304.isResolved=function(){return _305===_2eb;};this.isRejected=_304.isRejected=function(){return _305===_2ec;};this.isFulfilled=_304.isFulfilled=function(){return !!_305;};this.isCanceled=_304.isCanceled=function(){return _307;};this.progress=function(_309,_30a){if(!_305){_2f0(_308,_2ea,_309);return _304;}else{if(_30a===true){throw new Error(_2ed);}else{return _304;}}};this.resolve=function(_30b,_30c){if(!_305){_2f0(_308,_305=_2eb,_306=_30b);_308=null;return _304;}else{if(_30c===true){throw new Error(_2ed);}else{return _304;}}};this.reject=function(_30d,_30e){if(!_305){_2f0(_308,_305=_2ec,_306=_30d);_308=null;return _304;}else{if(_30e===true){throw new Error(_2ed);}else{return _304;}}};this.then=_304.then=function(_30f,_310,_311){var _312=[_311,_30f,_310];_312.cancel=_304.cancel;_312.deferred=new _302(function(_313){return _312.cancel&&_312.cancel(_313);});if(_305&&!_308){_2f3(_312,_305,_306);}else{_308.push(_312);}return _312.deferred.promise;};this.cancel=_304.cancel=function(_314,_315){if(!_305){if(_303){var _316=_303(_314);_314=typeof _316==="undefined"?_314:_316;}_307=true;if(!_305){if(typeof _314==="undefined"){_314=new _2e8();}_2f0(_308,_305=_2ec,_306=_314);_308=null;return _314;}else{if(_305===_2ec&&_306===_314){return _314;}}}else{if(_315===true){throw new Error(_2ed);}}};_2ee(_304);},{promise:null,resolve:noop,reject:noop,progress:noop,then:noop,cancel:noop,isResolved:noop,isRejected:noop,isFulfilled:noop,isCanceled:noop});return _302;});},"dojo/promise/CancelError":function(){define([],function(){function _317(_318){Error.captureStackTrace&&Error.captureStackTrace(this,_317);this.message=_318||"The deferred was cancelled.";this.name="CancelError";};_317.prototype=new Error;_317.prototype.constructor=_317;return _317;});},"dojo/_base/json":function(){define(["./kernel","../json"],function(dojo,json){dojo.fromJson=function(js){return eval("("+js+")");};dojo._escapeString=json.stringify;dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_319){return json.stringify(it,function(key,_31a){if(_31a){var tf=_31a.__json__||_31a.json;if(typeof tf=="function"){return tf.call(_31a);}}return _31a;},_319&&dojo.toJsonIndentStr);};return dojo;});},"dojo/json":function(){define(["./has"],function(has){"use strict";var _31b=typeof JSON!="undefined";has.add("json-parse",_31b);has.add("json-stringify",_31b&&JSON.stringify({a:0},function(k,v){return v||1;})=="{\"a\":1}");if(has("json-stringify")){return JSON;}else{var _31c=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};return {parse:has("json-parse")?JSON.parse:function(str,_31d){if(_31d&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)){throw new SyntaxError("Invalid characters in JSON");}return eval("("+str+")");},stringify:function(_31e,_31f,_320){var _321;if(typeof _31f=="string"){_320=_31f;_31f=null;}function _322(it,_323,key){if(_31f){it=_31f(key,it);}var val,_324=typeof it;if(_324=="number"){return isFinite(it)?it+"":"null";}if(_324=="boolean"){return it+"";}if(it===null){return "null";}if(typeof it=="string"){return _31c(it);}if(_324=="function"||_324=="undefined"){return _321;}if(typeof it.toJSON=="function"){return _322(it.toJSON(key),_323,key);}if(it instanceof Date){return "\"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z\"".replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return num<10?"0"+num:num;});}if(it.valueOf()!==it){return _322(it.valueOf(),_323,key);}var _325=_320?(_323+_320):"";var sep=_320?" ":"";var _326=_320?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;key<itl;key++){var obj=it[key];val=_322(obj,_325,key);if(typeof val!="string"){val="null";}res.push(_326+_325+val);}return "["+res.join(",")+_326+_323+"]";}var _327=[];for(key in it){var _328;if(typeof key=="number"){_328="\""+key+"\"";}else{if(typeof key=="string"){_328=_31c(key);}else{continue;}}val=_322(it[key],_325,key);if(typeof val!="string"){continue;}_327.push(_326+_325+_328+":"+sep+val);}return "{"+_327.join(",")+_326+_323+"}";};return _322(_31e,"","");}};}});},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(dojo,lang,_329,_32a){var _32b=dojo.Color=function(_32c){if(_32c){this.setColor(_32c);}};_32b.named={"black":[0,0,0],"silver":[192,192,192],"gray":[128,128,128],"white":[255,255,255],"maroon":[128,0,0],"red":[255,0,0],"purple":[128,0,128],"fuchsia":[255,0,255],"green":[0,128,0],"lime":[0,255,0],"olive":[128,128,0],"yellow":[255,255,0],"navy":[0,0,128],"blue":[0,0,255],"teal":[0,128,128],"aqua":[0,255,255],"transparent":_32a.transparentColor||[0,0,0,0]};lang.extend(_32b,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_32d){if(lang.isString(_32d)){_32b.fromString(_32d,this);}else{if(lang.isArray(_32d)){_32b.fromArray(_32d,this);}else{this._set(_32d.r,_32d.g,_32d.b,_32d.a);if(!(_32d instanceof _32b)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=_329.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_32e){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_32e?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});_32b.blendColors=dojo.blendColors=function(_32f,end,_330,obj){var t=obj||new _32b();_329.forEach(["r","g","b","a"],function(x){t[x]=_32f[x]+(end[x]-_32f[x])*_330;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};_32b.fromRgb=dojo.colorFromRgb=function(_331,obj){var m=_331.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&_32b.fromArray(m[1].split(/\s*,\s*/),obj);};_32b.fromHex=dojo.colorFromHex=function(_332,obj){var t=obj||new _32b(),bits=(_332.length==4)?4:8,mask=(1<<bits)-1;_332=Number("0x"+_332.substr(1));if(isNaN(_332)){return null;}_329.forEach(["b","g","r"],function(x){var c=_332&mask;_332>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};_32b.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new _32b();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};_32b.fromString=dojo.colorFromString=function(str,obj){var a=_32b.named[str];return a&&_32b.fromArray(a,obj)||_32b.fromRgb(str,obj)||_32b.fromHex(str,obj);};return _32b;});},"dojo/_base/loader":function(){define(["./kernel","../has","require","module","./json","./lang","./array"],function(dojo,has,_333,_334,json,lang,_335){if(!1){console.error("cannot load the Dojo v1.x loader with a foreign loader");return 0;}var _336=function(id){return {src:_334.id,id:id};},_337=function(name){return name.replace(/\./g,"/");},_338=/\/\/>>built/,_339=[],_33a=[],_33b=function(mid,_33c,_33d){_339.push(_33d);_335.forEach(mid.split(","),function(mid){var _33e=_33f(mid,_33c.module);_33a.push(_33e);_340(_33e);});_341();},_342,_343=function(m){if(_342[m.mid]===1||/loadInit\!/.test(m.mid)||/require\!/.test(m.mid)){_342[m.mid]=1;return true;}if(_342[m.mid]===0||(m.injected!==_344&&!m.executed)){_342[m.mid]=0;return false;}_342[m.mid]=1;for(var deps=m.deps||[],i=0;i<deps.length;i++){if(!_343(deps[i])){_342[m.mid]=0;return false;}}return true;},_341=function(){_342={};for(var i=0,end=_33a.length;i<end;i++){if(!_343(_33a[i])){return;}}_345.holdIdle();var _346=_339;_339=[];_335.forEach(_346,function(cb){cb(1);});_345.releaseIdle();},_347=function(mid,_348,_349){_348([mid],function(_34a){_348(_34a.names,function(){for(var _34b="",args=[],i=0;i<arguments.length;i++){_34b+="var "+_34a.names[i]+"= arguments["+i+"]; ";args.push(arguments[i]);}eval(_34b);var _34c=_348.module,deps=[],hold={},_34d=[],p,_34e={provide:function(_34f){_34f=_337(_34f);var _350=_33f(_34f,_34c);if(_350!==_34c){_375(_350);}},require:function(_351,_352){_351=_337(_351);_352&&(_33f(_351,_34c).result=_36f);_34d.push(_351);},requireLocalization:function(_353,_354,_355){deps.length||(deps=["dojo/i18n"]);_355=(_355||dojo.locale).toLowerCase();_353=_337(_353)+"/nls/"+(/root/i.test(_355)?"":_355+"/")+_337(_354);if(_33f(_353,_34c).isXd){deps.push("dojo/i18n!"+_353);}},loadInit:function(f){f();}};try{for(p in _34e){hold[p]=dojo[p];dojo[p]=_34e[p];}_34a.def.apply(null,args);}catch(e){_376("error",[_336("failedDojoLoadInit"),e]);}finally{for(p in _34e){dojo[p]=hold[p];}}_34d.length&&deps.push("dojo/require!"+_34d.join(","));_339.push(_349);_335.forEach(_34d,function(mid){var _356=_33f(mid,_348.module);_33a.push(_356);_340(_356);});_341();});});},_357=function(text,_358,_359){var _35a=/\(|\)/g,_35b=1,_35c;_35a.lastIndex=_358;while((_35c=_35a.exec(text))){if(_35c[0]==")"){_35b-=1;}else{_35b+=1;}if(_35b==0){break;}}if(_35b!=0){throw "unmatched paren around character "+_35a.lastIndex+" in: "+text;}return [dojo.trim(text.substring(_359,_35a.lastIndex))+";\n",_35a.lastIndex];},_35d=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,_35e=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,_35f=/(^|\s)(require|define)\s*\(/m,_360=function(text,_361){var _362,_363,_364,_365,_366=[],_367=[],_368=[];_361=_361||text.replace(_35d,function(_369){_35e.lastIndex=_35f.lastIndex=0;return (_35e.test(_369)||_35f.test(_369))?"":_369;});while((_362=_35e.exec(_361))){_363=_35e.lastIndex;_364=_363-_362[0].length;_365=_357(_361,_363,_364);if(_362[2]=="loadInit"){_366.push(_365[0]);}else{_367.push(_365[0]);}_35e.lastIndex=_365[1];}_368=_366.concat(_367);if(_368.length||!_35f.test(_361)){return [text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),_368.join(""),_368];}else{return 0;}},_36a=function(_36b,text){var _36c,id,_36d=[],_36e=[];if(_338.test(text)||!(_36c=_360(text))){return 0;}id=_36b.mid+"-*loadInit";for(var p in _33f("dojo",_36b).result.scopeMap){_36d.push(p);_36e.push("\""+p+"\"");}return "// xdomain rewrite of "+_36b.path+"\n"+"define('"+id+"',{\n"+"\tnames:"+dojo.toJson(_36d)+",\n"+"\tdef:function("+_36d.join(",")+"){"+_36c[1]+"}"+"});\n\n"+"define("+dojo.toJson(_36d.concat(["dojo/loadInit!"+id]))+", function("+_36d.join(",")+"){\n"+_36c[0]+"});";},_345=_333.initSyncLoader(_33b,_341,_36a),sync=_345.sync,xd=_345.xd,_344=_345.arrived,_36f=_345.nonmodule,_370=_345.executing,_371=_345.executed,_372=_345.syncExecStack,_373=_345.modules,_374=_345.execQ,_33f=_345.getModule,_340=_345.injectModule,_375=_345.setArrived,_376=_345.signal,_377=_345.finishExec,_378=_345.execModule,_379=_345.getLegacyMode;dojo.provide=function(mid){var _37a=_372[0],_37b=lang.mixin(_33f(_337(mid),_333.module),{executed:_370,result:lang.getObject(mid,true)});_375(_37b);if(_37a){(_37a.provides||(_37a.provides=[])).push(function(){_37b.result=lang.getObject(mid);delete _37b.provides;_37b.executed!==_371&&_377(_37b);});}return _37b.result;};has.add("config-publishRequireResult",1,0,0);dojo.require=function(_37c,_37d){function _37e(mid,_37f){var _380=_33f(_337(mid),_333.module);if(_372.length&&_372[0].finish){_372[0].finish.push(mid);return undefined;}if(_380.executed){return _380.result;}_37f&&(_380.result=_36f);var _381=_379();_340(_380);_381=_379();if(_380.executed!==_371&&_380.injected===_344){_345.holdIdle();_378(_380);_345.releaseIdle();}if(_380.executed){return _380.result;}if(_381==sync){if(_380.cjs){_374.unshift(_380);}else{_372.length&&(_372[0].finish=[mid]);}}else{_374.push(_380);}return undefined;};var _382=_37e(_37c,_37d);if(has("config-publishRequireResult")&&!lang.exists(_37c)&&_382!==undefined){lang.setObject(_37c,_382);}return _382;};dojo.loadInit=function(f){f();};dojo.registerModulePath=function(_383,_384){var _385={};_385[_383.replace(/\./g,"/")]=_384;_333({paths:_385});};dojo.platformRequire=function(_386){var _387=(_386.common||[]).concat(_386[dojo._name]||_386["default"]||[]),temp;while(_387.length){if(lang.isArray(temp=_387.shift())){dojo.require.apply(dojo,temp);}else{dojo.require(temp);}}};dojo.requireIf=dojo.requireAfterIf=function(_388,_389,_38a){if(_388){dojo.require(_389,_38a);}};dojo.requireLocalization=function(_38b,_38c,_38d){_333(["../i18n"],function(i18n){i18n.getLocalization(_38b,_38c,_38d);});};return {extractLegacyApiApplications:_360,require:_345.dojoRequirePlugin,loadInit:_347};});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/jtlc/CHT":function(){define(["dojo","dijit","dojox","dojo/require!dojox/jtlc/CHT/scanner,dojox/jtlc/CHT/instance,dojox/jtlc/qplus"],function(dojo,_38e,_38f){dojo.provide("dojox.jtlc.CHT");dojo.require("dojox.jtlc.CHT.scanner");dojo.require("dojox.jtlc.CHT.instance");dojo.require("dojox.jtlc.qplus");(function(){var dj=_38f.jtlc;dojo.declare("dojox.jtlc._NullSink",dj._Sink,{append:function(){this.closeLoops();}});dj._copyArgumentsReplaceFirst=function(args,_390){args=dj._copyArguments(args);args[0]=_390;return args;};var _391=/[{](\d+)[}]/g;dj._replaceN=function(fmt){return dojo.replace(fmt,dj._copyArguments(arguments,1),_391);};dj._chtGlobalContext={refID:0,markerID:0};dojo.declare("dojox.jtlc.CHT",dj.Language,{domMarkerPrefix:"_CHT_DOM_Marker_",constructor:function(_392){this.qplus=new dj.qplus(dojo.mixin({},{tags:this.tags},_392));dojo.mixin(this,_392);},parse:function(_393,ns,url){if(typeof ns==="string"){url=ns;ns={};}else{if(!ns){ns={};}}if(typeof _393==="string"){_393=[{src:_393}];}return dojo.when(this._buildTemplates(_393,ns,url||"[CHT-Templates]"),dojo.hitch(this,"_buildAST",ns));},_buildTemplates:function(_394,ns,url){var _395=this,refs={},_396={},tos={"template":1,"section":1};function _397(elt){if(elt.markerElement){body.push(_395.tags.markDom(elt.markerElement));}};for(var i=0;i<_394.length;++i){var _398=null,body=null;dojo.forEach(dj._tokenizeCHT(_394[i].src),function(t){if(t.substr(0,2)=="<?"){var elt=new dj._CHTElement(t);if(!_398&&elt.openTag!="template"){throw Error("CHT element encountered outside template: "+t);}if(_398&&elt.openTag=="template"){throw Error("Missing end of previous template at: "+t);}if(elt.closeTag=="template"){_397(_398);if(!ns.hasOwnProperty(_398.arg)){ns[_398.arg]=new this._userDefinedElement(_398,(_394[i].url||url)+"/<?"+_398.arg+"?>");}_398=body=null;}else{if(elt.openTag in tos){if(elt.arg in tos||elt.arg in _395.elements||!/^[a-z]\w*$/i.test(elt.arg||"")&&(elt.openTag!="section"||elt.arg)){throw Error("Bad or missing name for CHT "+elt.openTag+": "+t);}if(elt.openTag=="template"){_398=elt;if(!(elt.arg in _396)){_396[elt.arg]=elt;}if(elt.kwarg.marker){elt.markerElement=elt.kwarg.marker;elt.kwarg.async=true;}if(elt.kwarg.async){elt.kwarg.compiled=true;}if(elt.kwarg.macro&&elt.kwarg.compiled){throw Error("Compiled template cannot use macro argument substitution: "+elt.arg);}}else{elt.arg=elt.arg||"";_398.body.push(elt);(_398.sections=_398.sections||{})[elt.arg]={};}body=elt.body=[];_397(elt);}else{if(elt.closeTag=="section"){if(body===_398.body){throw Error("Mismatched "+t);}body=_398.body;}else{if(elt.openTag&&elt.openTag.indexOf(".")>=0){refs[elt.openTag]=false;}body.push(elt);}}}}else{if(t){var _399=[],t=t.replace(/\ufffd([\s\S]*?)\ufffd/g,function(_39a,_39b){var s=_395.qplus.parse(_39b);_399.push(t.charAt(0)=="<"?/^<script/i.test(t)?s:_395.tags.escapeAttribute(s):_395.tags.escapeText(s));return s instanceof _395.tags._do?"":"{"+(_399.length-1).toString()+"}";});if(!_398){throw Error("HTML content encountered outside template: "+t);}if(t=="{0}"){body.push(_399[0]);}else{if(t.charAt(0)!="<"&&/\b(?:[a-zA-Z][a-z]*|[A-Z]+)\b/.test(t.replace(/&[a-z]{3,4};/,""))){body.push(_395.tags.i18n(t,_399));}else{if(_399.length){body.push(_395.tags.replaceN(t,_399));}else{if(body.length&&body[body.length-1] instanceof dj.tags._quote){body[body.length-1].value+=t;}else{body.push(dj.tags.quote(t));}}}}}}},this);}if(this.loadTemplates){return dojo.when(this.loadTemplates(refs),function(r){return {refs:r,parsed:_396};});}else{return {refs:refs,parsed:_396};}},_buildAST:function(ns,rp){var refs=dojo.mixin(rp.refs,ns,this.elements),_39c=this;function _39d(body){var _39e=[],_39f=-1;for(var i=0;i<body.length;++i){if(body[i] instanceof dj._CHTElement){if(_39f>=0){body.splice(_39f,0,new _39c._appendToOutput(body.splice(_39f,i-_39f)));i=_39f+1;_39f=-1;}var tag=body[i].openTag||body[i].closeTag,_3a0,_3a1=(_39e.length&&(_3a0=body[_39e[0]]).def_sections||_39e.length>1&&(_3a0=body[_39e[1]]).def_sections)&&_3a0.def_sections[tag];if(tag=="section"){body[i]=new _39c._userDefinedSection(body[i].arg,_39d(body[i].body),_3a2);continue;}if(_3a1&&body[i].closeTag){throw Error("Closing tags not allowed for sections: "+body[i].text);}if(!_3a1&&!(tag in refs)&&tag!="section"){throw Error("Unknown CHT element: "+body[i].text);}if(body[i].openTag){if(_3a1){if(body[i].arg&&!_3a1.allowArgument){throw Error("Argument not allowed here: "+body[i].text);}if(!_3a1.allowMultiple&&dojo.some(_3a0.sections,function(s){return s.openTag==body[i].openTag;})){throw Error("Section appears more than once: "+body[i].text);}body[_39e[0]].body=body.splice(_39e[0]+1,i-_39e[0]-1);i=_39e[0]+1;if(body[_39e[0]]!==_3a0){body.splice(_39e[0],1);_39e.shift();--i;}_3a0.sections.push(body[i]);_39e.unshift(i);}else{if(refs[tag].sections){_39e.unshift(i);body[i].def_sections=refs[tag].sections;body[i].sections=[];}else{body[i]=refs[tag].tag(_39c,body[i]);}}}else{if(!_3a0||_3a0.openTag!=body[i].closeTag){throw Error("Unbalanced closing tag: "+body[i].text);}body[_39e[0]].body=body.splice(_39e[0]+1,i-_39e[0]-1);i=_39e[0]+1;if(body[_39e[0]]!==_3a0){body.splice(_39e[0],1);_39e.shift();--i;}if(_3a0.body.length&&!("" in _3a0.def_sections)){var t="";for(var s in _3a0.def_sections){if(t){t+=", ";}t+="<?"+s+"?>";}throw Error("<?"+_3a0.openTag+"?> must be followed by "+t);}if(!_3a0.body.length){delete _3a0.body;}body[_39e[0]]=refs[tag].tag(_39c,_3a0);body.splice(i--,1);_39e.shift();}}else{if(_39f<0){_39f=i;}}}if(_39e.length){throw Error("No closing tag for: "+body[_39e[body[_39e[0]].def_sections?0:1]].text);}if(_39f>=0){body.push(new _39c._appendToOutput(body.splice(_39f,body.length-_39f)));}return body;};for(var _3a2 in rp.parsed){if(!ns[_3a2].body){ns[_3a2].body=_39d(rp.parsed[_3a2].body);}}return ns;},compileBody:function(tpl){this.sourceUrl=tpl.sourceUrl||tpl.def.sourceUrl;this._chtSections={};this._deferredIndex=0;var _3a3=this.code.length;this._chtDeferred=this.addLocal();this.code.push(this._chtDeferred+"=new "+this.addGlobal(dj._CHTDeferredAccessor)+"(this);");var _3a4=this.addLocal(),gctx=this.addGlobal(dj._chtGlobalContext);this.code.push(_3a4+"="+gctx+".refID++;");var _3a5=this.code.length,refs=this.addLocal();this._chtRefs={refs:refs,index:_3a4};this.code.push(refs+"=[];");this.accumulated("=[];",new dj._ArraySink(this),null,function(){this._chtHTML=this.sink.accumulator;this.compile(tpl);});var cons=this.addGlobal(this._deferredIndex?_38f.jtlc._CHTIncrementalTemplateInstance:_38f.jtlc._CHTTemplateInstance),_3a6=this.popExpression();if(!this._hasRefs){this.code.splice(_3a5,1);this.optimizers._refLocalOptimize=function(body){return _38f.jtlc.replaceWithinJavascript(body,this._chtRefs.refs+",","");};}this.code.push("if(!"+_3a4+")"+gctx+".refID=0;");var _3a7=this._transition&&(this.compile(this.tags.expr("("+this._transition+")")),this.popExpression());function _3a8(_3a9){return "_split_text:"+_3a6+(_3a9?",_refs:"+refs+",_refID:"+_3a4:"")+(_3a7?",_transition:"+_3a7:"");};this.expressions.push(this._deferredIndex?"this instanceof "+cons+"?"+this.addGlobal(dojo.mixin)+"(this,{"+_3a8(this._hasRefs)+(this._chtMarkerQuery?",_marker_query:"+this._chtMarkerQuery:"")+"}):new "+cons+"({"+_3a8(this._hasRefs)+(this._chtMarkerQuery?",_marker_query:"+this._chtMarkerQuery:"")+",_self:$self,_args:$,_cht_deferred:"+this._chtDeferred+".storage,_max_deferred:"+this._deferredIndex+"})":"new "+cons+"({"+_3a8(this._hasRefs)+"})");if(this._deferredIndex==0){this.code.splice(_3a3,1);this.optimizers._defLocalOptimize=function(body){return _38f.jtlc.replaceWithinJavascript(body,this._chtDeferred+",","");};}},decorate:function(f){f.async=this._deferredIndex>0;f.name=this._templateName;return f;},compileSequence:function(body){this.accumulated(null,new dj._NullSink(this),this.loop,function(){dojo.forEach(body,function(v){this.compile(v);this.sink.append();},this);});this.expressions.pop();},replaceLanguage:dojo.replace,_appendToOutput:dojo.extend(function(body){this.body=body;dojo.forEach(this.body,function(v){if(v.simplify){v.simplify();}});},{compile:function(self){dojo.forEach(self.body,function(v){this.compile(v);if(v instanceof this.tags._do){this.code.push(this.popExpression()+";");}else{this.code.push(this._chtHTML+".push("+this.popExpression()+");");}},this);}}),_userDefinedElement:dojo.extend(function(elt,url){this.kwarg=elt.kwarg||{};if(this.kwarg.compiled&&elt.sections){throw Error("Compiled template "+elt.arg+" should not have sections");}if(elt.sections){this.sections=elt.sections;}this.name=elt.arg;this.sourceUrl=url;},{_tag:dojo.extend(function(cht,elt,def){this.def=def;if(elt.arg){this.arg=cht.qplus.parse(elt.arg);}if(elt.sections){this.sections={};dojo.forEach(elt.sections,function(s){this.sections[s.openTag]=s.body;},this);if(elt.body){this.sections[""]=elt.body;}}},{_notAnExpression:{toString:function(){throw Error("BUG: access to current_input bypasses generator()");}},_argByName:function(_3aa,_3ab,_3ac,expr){if(_3aa.current_input===this._notAnExpression&&!expr&&!_3aa.loop.lockedItem){if(_3ac){_3aa.current_input=_3ac;}else{delete _3aa.current_input;}_3aa.compile(this.arg);_3aa.current_input=this._notAnExpression;}else{_3ab.call(_3aa,expr);}},compile:function(self){var _3ad,_3ae;if(self.def.kwarg.macro&&self.arg){_3ad=this.hasOwnProperty("current_input")?this.current_input:null;var gen=this.generator;_3ae=this.hasOwnProperty("generator")?gen:null;this.generator=function(expr){self._argByName(this,gen,_3ad,expr);};this.current_input=self._notAnExpression;}if(self.sections){this._chtSections[self.def.name]=self.sections;}if(!self.def.kwarg.macro&&(self.arg||this.current_input===self._notAnExpression)){var _3af,_3b0;if(self.arg){this.compile(self.arg);_3af=this.popExpression();_3b0=this.addLocal();if(_3af.length>4){this.code.push(_3b0+"="+_3af+";");_3af="("+_3b0+")";}else{if(_3af===_3b0){_3af="("+_3af+")";}else{this.locals.pop();delete _3b0;}}}else{_3af=this.generator();}this.nonAccumulated(function(){this.compileSequence(self.def.body);},_3af);if(_3b0){this.locals.pop();}}else{this.compileSequence(self.def.body);}if(self.sections){delete this._chtSections[self.def.name];}if(self.def.kwarg.macro&&self.arg){if(_3ae){this.generator=_3ae;}else{delete this.generator;}if(_3ad){this.current_input=_3ad;}else{delete this.current_input;}}}}),_compiledTag:dojo.extend(function(cht,elt,tag){this.name=elt.openTag;this.tag=tag;if(elt.arg){this.arg=cht.qplus.parse(elt.arg);}this.bind=cht.tags.bind;},{compile:function(self){if(!("compiledTemplates" in this)){this.compiledTemplates={};}if(!(self.name in this.compiledTemplates)){var _3b1=null;this.compiledTemplates[self.name]=function(){return _3b1.apply(this,arguments);};this.compiledTemplates[self.name].async=self.tag.def.kwarg.async||false;this.compiledTemplates[self.name]=_3b1=dj.compile(self.tag,this.compileArguments.language,dojo.mixin({compiledTemplates:this.compiledTemplates},this.compileArguments.options,{_templateName:self.name,_transition:self.tag.def.kwarg.transition}));}var fn=this.addGlobal(this.compiledTemplates[self.name]),_3b2=this.compiledTemplates[self.name].async;var v,w;if(_3b2){w=this._beginWait();}if(self.arg){this.compile(self.arg);}else{this.generator();}v=this.popExpression();if(v=="$[0]"){this.expressions.push(fn+".apply(null,$)");}else{this.expressions.push(fn+".apply(null,"+this.addGlobal(dj._copyArgumentsReplaceFirst)+"($,"+v+"))");}if(_3b2){this._endWait(w,true);}}}),tag:function(cht,elt){if(this.kwarg.compiled&&elt.openTag){return new cht._appendToOutput([new this._compiledTag(cht,elt,new this._tag(cht,{},this))]);}else{return new this._tag(cht,elt,this);}},compile:function(self){this._templateName=self.name;if(self.kwarg.transition){this._transition=self.kwarg.transition;}this.compile(self.tag(this,{}));}}),_userDefinedSection:dojo.extend(function(name,body,_3b3){this.body=body;this.name=name;this.tplName=_3b3;},{compile:function(self){this.compileSequence((this._chtSections[self.tplName]||{})[self.name]||self.body);}}),_beginWait:function(_3b4){this.code.push("if(!"+this._chtDeferred+".has("+this._deferredIndex+")){");return _3b4||this.addLocal();},_endWait:function(_3b5,_3b6){this.code.push(this._chtDeferred+".set("+this._deferredIndex+","+_3b5+"="+this.popExpression()+(this._whenCtx&&this._whenCtx.hasExcept?",true":"")+");}else "+_3b5+"="+this._chtDeferred+".get("+this._deferredIndex+");");if(!_3b6){this.code.push("if("+_3b5+" instanceof "+this.addGlobal(dojo.Deferred)+(this._whenCtx&&this._whenCtx.hasExcept?("||"+_3b5+" instanceof Error"):"")+")break;");}this._deferredIndex++;this.expressions.push(_3b5);},elements:{"if":{sections:{"":{allowArgument:true},"elseif":{allowArgument:true,allowMultiple:true},"else":{}},_tag:dojo.extend(function(cht,elt){this.ifTrue=[{condition:elt.arg?cht.qplus.parse(elt.arg):dj.tags.current(),body:elt.body}];dojo.forEach(elt.sections,function(s){if(s.openTag=="elseif"){this.ifTrue.push({condition:s.arg?cht.qplus.parse(s.arg):dj.tags.current(),body:s.body});}else{this.ifFalse=s.body;}},this);},{compile:function(self){dojo.forEach(self.ifTrue,function(s,i){this.compile(s.condition);this.code.push((i==0?"if(":"}else if(")+this.popExpression()+"){");this.compileSequence(s.body);},this);if(self.ifFalse){this.code.push("}else{");this.compileSequence(self.ifFalse);}this.code.push("}");}}),tag:function(cht,elt){return new this._tag(cht,elt);}},"foreach":{sections:{"":{allowArgument:true}},tag:function(cht,elt){return dj.tags.one(dj.tags.many(cht.tags.foreachBody(elt.body,elt.arg&&cht.qplus.parse(elt.arg))));}},"group":{sections:{"":{allowArgument:true}},tag:function(cht,elt){if(!!elt.kwarg.key==!!elt.kwarg.count){throw Error("<?group?> should have one of attributes: key=, count=");}return dj.tags.one(dj.tags.many(dj.tags.group(elt.kwarg.key?cht.qplus.parse(elt.kwarg.key,true):dj.tags.expr("Math.floor($#/("+elt.kwarg.count+"))"),cht.tags.genericBody(elt.body),elt.arg?cht.qplus.parse(elt.arg):dj.tags.current())));}},"when":{sections:{"":{allowArgument:true},"else":{},"except":{}},_tag:dojo.extend(function(cht,elt){this.arg=elt.arg?cht.qplus.parse(elt.arg):dj.tags.current();this.ifReady=elt.body;dojo.forEach(elt.sections,function(s){if(s.openTag=="else"){this.ifNotReady=s.body;}else{this.ifFailed=s.body;}},this);},{compile:function(self){var _3b7;if(_3b7=this._whenCtx){delete this._whenCtx;}if(self.ifNotReady||self.ifFailed){this._whenCtx={flagVar:this.addLocal(),hasExcept:self.ifFailed&&true};this.code.push(this._whenCtx.flagVar+"=true;");}this.code.push("do{");this._openWait=this._beginWait(this._whenCtx&&this._whenCtx&&this._whenCtx.flagVar);if(self.arg){this.compile(self.arg);}else{this.generator();}if(this._openWait){this._endWait(this._openWait);delete this._openWait;}var _3b8=this.popExpression(),lock=this.addLocal();if(lock!=_3b8){this.code.push(lock+"="+_3b8+";");}this.nonAccumulated(function(){this.compileSequence(self.ifReady);},"("+lock+")");this.locals.pop();this.code.push("}while("+(this._whenCtx?this._whenCtx.flagVar+"=":"")+"false);");if(self.ifFailed){this.code.push("if("+this._whenCtx.flagVar+" instanceof Error){");this.nonAccumulated(function(){this.compileSequence(self.ifFailed);},"("+this._whenCtx.flagVar+")");this.code.push("}");}if(self.ifNotReady){this.code.push((self.ifFailed?"else ":"")+"if("+this._whenCtx.flagVar+"){");this.compileSequence(self.ifNotReady);this.code.push("}");}if(_3b7){this._whenCtx=_3b7;}else{if(this._whenCtx){delete this._whenCtx;}}}}),tag:function(cht,elt){return new this._tag(cht,elt);}}},string:_38f.jtlc.qplus.prototype.string,queryLanguage:_38f.json.query,_declareTag:dj._declareTag,tags:dojo.delegate(dj.qplus.prototype.tags,{})});})();(function(djcp){var dj=_38f.jtlc;djcp._declareTag("foreachBody",{constructor:function(body,_3b9){this.body=body;if(_3b9){this.input=_3b9;}},compile:function(self){if(self.input){this.compile(self.input);}else{this.generator();}this.loop.lockItem(this.popExpression());this.compileSequence(self.body);}});djcp._declareTag("genericBody",{constructor:function(body){this.body=body;},compile:function(self){this.compileSequence(self.body);this.generator();}});djcp._declareTag("replaceN",dojo.declare(dj._MultiArgTag,{constructor:function(fmt,args){this.format=fmt;this.args=args||[];},formatString:function(self){return dj.stringLiteral(self.format);},compileArgs:function(self){for(var i=self.args.length-1;i>=0;--i){this.compile(self.args[i]);}},compile:function(self){if(!("_pushLiteralOptimizer" in this.optimizers)){this.optimizers._pushLiteralOptimizer=self.optimize;}if(self.args.length){this._replaceFunction=this._replaceFunction||this.addGlobal(dj._replaceN);self.compileArgs.call(this,self,true);this.expressions.push(this._replaceFunction+"("+self.formatString.call(this,self)+","+self.argumentList.call(this,self)+")");}else{this.expressions.push(self.formatString.call(this,self));}},optimize:function(body){var acc=this._chtHTML,_3ba=new RegExp("[;}{](?:"+acc+"\\.push\\({1,2}\"(?:[^\"\\\\]|\\\\.)*\"\\){1,2};){2,}","g"),_3bb=new RegExp(acc+"\\.push\\({1,2}\"((?:[^\"\\\\]|\\\\.)*)\"\\){1,2};","g");return _38f.jtlc.replaceWithinJavascript(body,_3ba,function(seq){return seq.substr(0,1)+acc+".push(\""+seq.substr(1).replace(_3bb,"$1")+"\");";});}}));djcp._declareTag("i18n",dojo.declare(djcp.tags._replaceN,{constructor:function(){if(!(this.args instanceof Array)){this.args=[this.args];}},formatString:function(self){var d=this.i18nDictionary;return dj.stringLiteral(d&&(self.format in d?d[self.format]:self.format.replace(/^(\s*)(.*?)(\s*)$/,function(_3bc,pfx,key,sfx){if(!(key in d)){d[key]=false;}return d[key]?(pfx||"")+d[key]+(sfx||""):"";}))||self.format);}}));var _3bd=dojo.declare(null,{constructor:function(arg){this.arg=arg;},compile:function(self){this["_escape"+self.cachePrefix+"Regex"]=this["_escape"+self.cachePrefix+"Regex"]||this.addGlobal(self.escapeRegex);this["_escape"+self.cachePrefix+"Fn"]=this["_escape"+self.cachePrefix+"Fn"]||this.addGlobal(self.escapeFn);var _3be=this["_escape"+self.cachePrefix+"Regex"]+","+this["_escape"+self.cachePrefix+"Fn"];if(!("_escape"+self.cachePrefix+"Optimizer" in this.optimizers)){var _3bf=new RegExp("String\\((\"(?:\\\\.|[^\\\\\"])*\")\\)\\.replace\\("+_3be+"\\)","g");this.optimizers["_escape"+self.cachePrefix+"Optimizer"]=function(body){return _38f.jtlc.replaceWithinJavascript(body,_3bf,"$1");};}this.compile(self.arg);var what=this.popExpression();this.expressions.push("String("+what+").replace("+_3be+")");}});function _3c0(cls){return function(arg){return arg instanceof djcp.tags._raw||arg instanceof djcp.tags._do?arg:new cls(arg);};};djcp._declareTag("escapeAttribute",dojo.declare(_3bd,{cachePrefix:"Attr",escapeRegex:/[<>'"&]/g,escapeFn:function(x){return {"<":"&lt;",">":"&gt;","'":"&apos;","\"":"&quot;","&":"&amp;"}[x];}}),_3c0);djcp._declareTag("escapeText",dojo.declare(_3bd,{cachePrefix:"Text",escapeRegex:/[<>&]/g,escapeFn:function(x){return {"<":"&lt;",">":"&gt;","&":"&amp;"}[x];}}),_3c0);djcp._declareTag("raw",{constructor:function(arg){this.arg=arg;},compile:function(self){this.compile(self.arg);}});djcp._declareTag("ref",{constructor:function(arg){this.arg=arg;},compile:function(self){this.compile(self.arg);this._replaceFunction=this._replaceFunction||this.addGlobal(dj._replaceN);this.expressions.push(this._replaceFunction+"(\"dojo.getObject(\\\"_refs.{0}.{1}\\\")\","+this._chtRefs.index+","+this._chtRefs.refs+".push("+this.popExpression()+")-1)");this._hasRefs=true;}});djcp._declareTag("wait",{constructor:function(arg){this.arg=arg;},compile:function(self){var w=this._openWait;if(!w){w=this._beginWait();}else{delete this._openWait;}this.compile(self.arg);this._endWait(w);}});djcp._declareTag("markDom",dojo.declare(djcp.tags._raw,{constructor:function(_3c1){this.markerElement=_3c1;},compile:function(self){if(!this._chtMarkerID){this._chtMarkerID=this.addLocal();this.code.push(this._chtMarkerID+"="+this.addGlobal(dj._chtGlobalContext)+".markerID++;");this._chtMarkerQuery="("+dj.stringLiteral(self.markerElement+"."+this.domMarkerPrefix)+"+"+this._chtMarkerID+")";}this.expressions.push("("+dj.stringLiteral(dj._replaceN("<{0} style=\"display:none\" class=\"{1}",self.markerElement,this.domMarkerPrefix))+"+"+this._chtMarkerID+"+"+dj.stringLiteral(dj._replaceN("\"></{0}>",self.markerElement))+")");}}));})(_38f.jtlc.CHT.prototype);});},"dojox/jtlc/CHT/scanner":function(){define(["dojo","dijit","dojox"],function(dojo,_3c2,_3c3){dojo.provide("dojox.jtlc.CHT.scanner");_3c3.jtlc._beginsWith=function(a,b){return a.substr(0,b.length)==b;};_3c3.jtlc._hasPrefix=function(s,pfxs,map){for(var i=0;i<pfxs.length;++i){if(_3c3.jtlc._beginsWith(s,map?map(pfxs[i]):pfxs[i])){return pfxs[i];}}return null;};_3c3.jtlc._tokenizeCHT=function(_3c4){var dj=_3c3.jtlc,_3c5=[{prefix:"<!--",suffix:"-->",allow:["-->"],extra:""},{prefix:"<?",suffix:"?>",allow:["\"","'","?>","<!--"],markup:true,extra:""},{prefix:"<",suffix:">",allow:["\"","'","{{",">","<!--"],extra:""},{prefix:"{{",suffix:"}}",allow:["\"","'","(","[","{","}}"],substitution:true,extra:""},{prefix:"{",suffix:"}",allow:["\"","'","(","[","{","}"]},{prefix:"(",suffix:")",allow:["\"","'","(","[","{",")"]},{prefix:"[",suffix:"]",allow:["\"","'","(","[","{","]"]},{prefix:"\"",suffix:"\"",allow:["\"","\\"],inSubstitution:true},{prefix:"\"",suffix:"\"",allow:["\"","\\","{{"],inSubstitution:false},{prefix:"'",suffix:"'",allow:["'","\\"],inSubstitution:true},{prefix:"'",suffix:"'",allow:["'","\\","{{"],inSubstitution:false},{prefix:"\\",escape:true}],_3c6={suffix:"</script",allow:["\"","'","{{","</script"]},_3c7=[{allow:["<!--","<?","<","{{"]}],_3c8=0,_3c9="",_3ca=false,_3cb=_3c4.replace(/(?:<(?:[?]\s*)?\/?[a-z_]\w*|<!--|-->|[?]?>|[{][{]?|[}][}]?|["'\[\]()\\\ufeff])/ig,function(s,pos,src){if(s===String.fromCharCode(65279)){return "";}if(_3c7[0].escape){_3c7.shift();if(pos==lp+1){return s;}}var pfx=dj._hasPrefix(s.toLowerCase(),_3c7[0].allow),lp=_3c8;_3c8=pos+s.length;if(pfx){if(pfx==_3c7[0].suffix){var top=_3c7.shift();if(top.substitution){_3ca=false;}if(top!==_3c6){if(!top.markup&&s.charAt(s.length-1)==">"&&_3c9=="script"){_3c7.unshift(_3c6);return s;}return (top.substitution?"":s)+(top.extra||"");}}if(pfx=dj._hasPrefix(pfx,_3c5,function(b){if("inSubstitution" in b&&b.inSubstitution!=_3ca){return "";}else{return b.prefix;}})){if(pfx.escape){return s;}if(s.charAt(0)=="<"){_3c9=/^<(\/?[a-z_]*)/i.exec(s)[1].toLowerCase();}_3c7.unshift(pfx);if(pfx.substitution){_3ca=true;}return (_3c9!="/script"&&pfx.extra||"")+(pfx.substitution?"":s);}}return s;}).split(/(?:\ufffc[\s\S]*?\ufffc|\ufffe|\s*\uffff\s*)/);if(_3c7.length>1){throw Error("Unbalanced delimiters -- expected "+dj.stringLiteral(_3c7[0].suffix));}return _3cb;};_3c3.jtlc._CHTElement=function(text){this.text=text;if(/^<[?]\s*\/([a-z_]\w*(?:\s*[.]\s*[a-z_]\w*)*)[\s\S]*?[?]>$/i.exec(text)){this.closeTag=RegExp.$1.split(/\s*[.]\s*/).join(".");}else{if(/^<[?]\s*([a-z_]\w*(?:\s*[.]\s*[a-z_]\w*)*)([\s\S]*?)\s*[?]>$/i.exec(text)){var body=RegExp.$2;this.openTag=RegExp.$1.split(/\s*[.]\s*/).join(".");this.kwarg={};if(/^\s+(?![a-z]\w*=)(["']?)((?:\\.|[^\\])*?)\1(?=\s|$)/i.exec(body)){this.arg=RegExp.$2;body=body.substr(RegExp.lastMatch.length);}while(body.length&&/^\s+([a-z_]\w*)=/i.exec(body)){body=body.substr(RegExp.lastMatch.length);var name=RegExp.$1;if(!/^(["']?)((?:\\.|[^\\])*?)\1(?=\s|$)/.exec(body)){break;}body=body.substr(RegExp.lastMatch.length);this.kwarg[name]=RegExp.$2;}if(body.length){throw Error("Invalid CHT tag: "+text);}}else{throw Error("Invalid CHT tag: "+text);}}};});},"dojox/jtlc/qplus":function(){define(["dojo","dijit","dojox","dojo/require!dojox/jtlc/JXL"],function(dojo,_3cc,_3cd){dojo.provide("dojox.jtlc.qplus");dojo.require("dojox.jtlc.JXL");(function(){var dj=_3cd.jtlc,d=dojo;function _3ce(str){if(/^\s*-?\d+(\.\d*)?([eE]-?\d+)?\s*$/.exec(str)){return RegExp.$2||RegExp.$3?parseFloat(str):parseInt(str);}if(/^\s*(true|false)\s*$/.exec(str)){return RegExp.$1==="true";}return str;};d.declare("dojox.jtlc.qplus",dj.JXL,{string:function(_3cf){this.compile(this.loop&&!this.loop.started()?this.tags.query(_3cf):this.tags.expr(_3cf));},_exprBrackets:{"[":{close:"]",allow:"[]({\"'"},"(":{close:")",allow:"[(){\"'"},"{":{close:"}",allow:"[({}\"'"},"\"":{close:"\"",allow:"\""},"'":{close:"'",allow:"'"}},_singleScanRegex:/(?:[\[\](){}"']|\\.|\|\|?)/g,_multipleScanRegex:/(?:[\[\](){}"',]|\\.|\|\|?)/g,_initScanStack:{close:"",allow:"[](){}\"'|,"},parse:function(_3d0,_3d1){var _3d2={",":"","|":""},_3d3=[this._initScanStack],_3d4=this._exprBrackets,prep=_3d0.replace(_3d1?this._multipleScanRegex:this._singleScanRegex,function(c){if(c.charAt(0)=="\\"){return c.charAt(1);}if(_3d3[0].allow.indexOf(c)>=0){if(c==_3d3[0].close){_3d3.shift();}else{if(c in _3d4){_3d3.unshift(_3d4[c]);}else{if(c in _3d2){return _3d2[c];}}}}return c;});if(_3d3.length>1){throw Error("Unbalanced delimiters -- expected "+dj.stringLiteral(_3d3[0].close));}if(_3d1){return d.map(prep.split(_3d2[","]),function(p){return this._parseList(p.split(_3d2["|"]));},this);}else{return this._parseList(prep.split(_3d2["|"]));}},_parseList:function(list){var _3d5;while(list.length){var item=list.shift();if(/^\s*([a-z_]\w*(?:\s*[.]\s*[a-z_]\w*)*)\s*([:](?:.|[\r\n])*)?$/i.exec(item)&&(_3d5||RegExp.$2)){_3d5=RegExp.$2?this._makeTag(RegExp.$1,this._parseOwnArg(RegExp.$2.substr(1)),_3d5):this._makeTag(RegExp.$1,_3d5);}else{if(_3d5){throw Error("Tag is not specified in '"+item+"'");}else{_3d5=item;}}}return _3d5;},_parseOwnArg:function(str){if(/^\[\s*(.*?)\s*\]$/.exec(str)){try{var _3d6={",":""},_3d7=[this._initScanStack],_3d8=this._exprBrackets,prep=RegExp.$1.replace(this._multipleScanRegex,function(c){if(c.charAt(0)=="\\"){return c.charAt(1);}if(_3d7[0].allow.indexOf(c)>=0){if(c==_3d7[0].close){_3d7.shift();}else{if(c in _3d8){_3d7.unshift(_3d8[c]);}else{if(c in _3d6){return _3d6[c];}else{if(_3d7.length==1&&c=="]"){throw true;}}}}}return c;}),args=prep.split(/\s*\uffff\s*/);if(_3d7.length==1){return d.map(args,_3ce);}}catch(e){if(e instanceof Error){throw e;}}}else{return _3ce(str);}return str;},_makeTag:function(tag,arg1,arg2){var args=[],_3d9=true;if(arg1){if(arg2){args.push(arg2);}args.push(arg1);}if(args[args.length-1] instanceof Array){if(args.length>1){throw Error(tag+":["+args[1]+"] can only be used as the leftmost element");}_3d9=false;args=args[0];}tag=tag.split(/\s*[.]\s*/);if(tag.length==1){var t;if((t=this.tags[tag[0]])||(t=dj.tags[tag[0]])){if(_3d9){args.reverse();}return t.apply(null,args);}else{if(t=this.filters[tag[0]]){args.unshift(t);if(typeof t==="function"){return _3cd.jtlc.tags.bind.apply(null,args);}else{if(typeof t==="string"){return dj.tags.expr.apply(null,args);}else{throw Error("Filter '"+tag[0]+"' is neither string nor function");}}}}}var _3da=dojo.getObject(tag.join("."));if(typeof _3da==="function"){var _3db=tag.length>1&&dojo.getObject(tag.slice(0,tag.length-1).join("."));if(typeof _3db==="function"){if(_3db===String){args.unshift("$.toString()."+tag[tag.length-1]);}else{if(_3db===Array||_3db===Object){args.unshift("$."+tag[tag.length-1]);}else{args.unshift(tag.slice(0,tag.length-1).join(".")+"($)."+tag[tag.length-1]);}}args[0]+=args.length>2?"($1)":"($)";}else{args.unshift(tag.join(".")+(args.length>1?"($,$1)":"($)"));}return _3cd.jtlc.tags.expr.apply(null,args);}throw Error("Unknown filter or tag: '"+tag.join(".")+"'");},tags:{dict:function(arg){return {_:dj.tags.many(arg)};},array:function(arg){return [arg];}},_declareTag:dj._declareTag,filters:{lower:"$.toString().toLowerCase()",upper:"$.toString().toUpperCase()"}});})();(function(djqp){var dj=_3cd.jtlc;djqp._declareTag("expr",dojo.declare(dj.tags._expr,{constructor:function(){for(var i=Math.max(1,arguments.length-1);i<10;++i){this.args.push(_3cd.jtlc.tags.arg(i));}}}));djqp._declareTag("do",dojo.declare(djqp.tags._expr,{constructor:function(){if(/^\{((?:.|[\r\n])*?);?\s*\}$/.exec(this.expr)){this.expr=RegExp.$1;}this.expr="(function(){"+this.expr+";return $;})()";this.simplify=arguments.length<=1?this._simplify:this._cant_simplify;},_simplify:function(){this.expr=this.expr.replace(/;return \$;\}\)\(\)$/,"})()");},_cant_simplify:function(){}}));djqp._declareTag("query",dojo.declare(dj.tags._query,{constructor:function(){if(arguments.length<=2&&this.query.match(/[$][1-9]/)){this.dynamicArgs=true;}},callQuery:function(self){if(!self.dynamicArgs){return dj.tags._query.prototype.callQuery.call(this,self);}if(this.loop){this.nonAccumulated(function(){this.compile(self.args[0]);});}else{this.compile(self.args[0]);}var v=this.popExpression(),t=this.addLocal();this.code.push(t+"="+this.addGlobal(dj._copyArguments)+"($);");this.code.push(t+"[0]="+v+";");return this.addGlobal(this.queryLanguage(self.query))+".apply(null,"+t+")";}}));})(_3cd.jtlc.qplus.prototype);});},"dojox/jtlc/JXL":function(){define(["dojo","dijit","dojox","dojo/require!dojox/json/query,dojox/jtlc/tags,dojox/jtlc/compile"],function(dojo,_3dc,_3dd){dojo.provide("dojox.jtlc.JXL");dojo.require("dojox.json.query");dojo.require("dojox.jtlc.tags");dojo.require("dojox.jtlc.compile");dojo.declare("dojox.jtlc.JXL",_3dd.jtlc.Language,{replaceLanguage:dojo.replace,queryLanguage:_3dd.json.query,string:function(_3de){this.compile(this.loop&&!this.loop.started()?_3dd.jtlc.tags.query(_3de):_3dd.jtlc.tags.expr(_3de));},number:function(_3df){this.compile(_3dd.jtlc.tags.quote(_3df));},"boolean":function(_3e0){this.compile(_3dd.jtlc.tags.quote(_3e0));},"function":function(fn){this.compile(_3dd.jtlc.tags.bind(fn));},unknownObject:function(obj){this.compile(_3dd.jtlc.tags.quote(obj));},nullObject:function(obj){this.expressions.push("null");}});});},"dojox/json/query":function(){define("dojox/json/query",["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_3e1){dojo.getObject("json",true,_3e1);_3e1.json._slice=function(obj,_3e2,end,step){var len=obj.length,_3e3=[];end=end||len;_3e2=(_3e2<0)?Math.max(0,_3e2+len):Math.min(len,_3e2);end=(end<0)?Math.max(0,end+len):Math.min(len,end);for(var i=_3e2;i<end;i+=step){_3e3.push(obj[i]);}return _3e3;};_3e1.json._find=function e(obj,name){var _3e4=[];function walk(obj){if(name){if(name===true&&!(obj instanceof Array)){_3e4.push(obj);}else{if(obj[name]){_3e4.push(obj[name]);}}}for(var i in obj){var val=obj[i];if(!name){_3e4.push(val);}else{if(val&&typeof val=="object"){walk(val);}}}};if(name instanceof Array){if(name.length==1){return obj[name[0]];}for(var i=0;i<name.length;i++){_3e4.push(obj[name[i]]);}}else{walk(obj);}return _3e4;};_3e1.json._distinctFilter=function(_3e5,_3e6){var _3e7=[];var _3e8={};for(var i=0,l=_3e5.length;i<l;++i){var _3e9=_3e5[i];if(_3e6(_3e9,i,_3e5)){if((typeof _3e9=="object")&&_3e9){if(!_3e9.__included){_3e9.__included=true;_3e7.push(_3e9);}}else{if(!_3e8[_3e9+typeof _3e9]){_3e8[_3e9+typeof _3e9]=true;_3e7.push(_3e9);}}}}for(i=0,l=_3e7.length;i<l;++i){if(_3e7[i]){delete _3e7[i].__included;}}return _3e7;};return _3e1.json.query=function(_3ea,obj){var _3eb=0;var str=[];_3ea=_3ea.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_3eb+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_3eb>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _3ec="";function call(name){_3ec=name+"("+_3ec;};function _3ed(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_3ea.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_3ea=_3ea.replace(/([^<>=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var oper=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(oper){var _3ee="";if(t.match(/^\./)){call("dojox.json._find");_3ee=",true)";}call(oper[1].match(/\=/)?"dojo.map":oper[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter");return _3ee+",function($obj){return "+oper[2]+"})";}oper=t.match(/^\[\s*([\/\\].*)\]/);if(oper){return ".concat().sort(function(a,b){"+oper[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}oper=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(oper){call("dojox.json._slice");return ","+(oper[1]||0)+","+(oper[2]||0)+","+(oper[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){call("dojox.json._find");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_3ed).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _3ed(t,c,d,e,f,g,b,a);});_3ea=_3ec+(_3ea.charAt(0)=="$"?"":"$")+_3ea.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _3ef=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_3ea+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_3ef.apply(this,arguments):_3ef;};});},"dojox/jtlc/tags":function(){define(["dojo","dijit","dojox","dojo/require!dojox/jtlc/compile"],function(dojo,_3f0,_3f1){dojo.provide("dojox.jtlc.tags");dojo.require("dojox.jtlc.compile");_3f1.jtlc._copyArguments=function(args,_3f2){return Array.prototype.slice.call(args,_3f2||0);};_3f1.jtlc.tags={};_3f1.jtlc._declareTag=function(name,_3f3,_3f4){var cls=typeof _3f3==="function"?_3f3:dojo.declare(null,_3f3);this.tags["_"+name]=cls;this.tags[name]=_3f4?_3f4(cls):function(){var t=dojo.delegate(cls.prototype);cls.apply(t,arguments);return t;};};_3f1.jtlc._declareTag("many",{constructor:function(tpl){if(arguments.length!=1){throw Error("many() requires exactly one argument");}this.template=tpl;},compile:function(self){if(!this.sink){throw Error("Cannot use many() outside the context of an array or an object literal");}if(this.loop){this.compile(self.template);}else{this.accumulated(null,this.sink,new _3f1.jtlc._Loop(this),function(){this.compile(self.template);});}}});_3f1.jtlc._declareTag("one",{constructor:function(tpl){if(arguments.length!=1){throw Error("one() requires exactly one argument");}this.template=tpl;},compile:function(self){if(!this.loop){this.compile(self.template);}else{this.nonAccumulated(function(){this.compile(self.template);});}}});_3f1.jtlc._declareTag("quote",{constructor:function(_3f5){if(arguments.length!=1){throw Error("quote() requires exactly one argument");}this.value=_3f5;},compile:function(self){switch(typeof self.value){case "boolean":case "number":this.expressions.push(self.value);break;case "string":this.expressions.push(_3f1.jtlc.stringLiteral(self.value.toString()));break;default:this.expressions.push(this.addGlobal(self.value));}}});_3f1.jtlc._declareTag("current",{compile:function(){this.generator();}});_3f1.jtlc._declareTag("arg",{constructor:function(_3f6){if(arguments.length!=1){throw Error("arg() requires exactly one argument");}this.index=_3f6;},compile:function(self){this.expressions.push("$["+self.index.toString()+"]");}});_3f1.jtlc._declareTag("acc",{constructor:function(tpl){if(arguments.length!=1){throw Error("tpl() requires exactly one argument");}this.arg=tpl;},compile:function(self){this.compile(self.arg);var _3f7=this.popExpression(),t=this.addLocal();if(t!=_3f7){this.code.push(t+"="+_3f7+";");}this.expressions.push(t);}});_3f1.jtlc._declareTag("replace",{constructor:function(_3f8,arg){if(typeof _3f8!=="string"){throw Error("replace() expects formatting string, not "+_3f8.toString());}this.format=_3f8;if(arg){this.arg=arg;}},compile:function(self){this._replaceFunction=this._replaceFunction||this.addGlobal(this.replaceLanguage);if(self.arg){this.compile(self.arg);}else{this.generator();}this.expressions.push(this._replaceFunction+"("+_3f1.jtlc.stringLiteral(self.format)+","+this.popExpression()+")");}});_3f1.jtlc._declareTag("each",{constructor:function(_3f9,_3fa){this.inner=_3f9;this.outer=_3fa;},compile:function(self){if(!this.loop){throw Error("each() is never a singleton, wrap it in many() or []");}if(this.loop.started()){throw Error("each() used in a wrong context");}this.compile(self.outer);if(!this.loop.started()){throw Error("All arguments of each() must be generators");}this.loop.lockItem(this.popExpression());this.accumulated(null,this.sink,new _3f1.jtlc._Loop(this),function(){this.compile(self.inner);});}},function(cls){return function(){if(arguments.length==0){throw Error("each() requires at least one argument");}else{if(arguments.length==1){return new cls(arguments[0],_3f1.jtlc.tags.current());}else{var last=arguments[arguments.length-1];for(var i=arguments.length-2;i>=0;--i){last=new cls(arguments[i],last);}return last;}}};});dojo.declare("dojox.jtlc._MultiArgTag",null,{constructor:function(){if(arguments.length>1){this.args=_3f1.jtlc._copyArguments(arguments,1);}else{this.args=[_3f1.jtlc.tags.current()];}},argumentList:function(self){var n=self.args.length,r=[];while(n--){r.push(this.popExpression());}return r.join(",");},compileArgs:function(self,_3fb){this.nonAccumulated(function(){for(var i=self.args.length-1;i>=(_3fb?1:0);--i){this.compile(self.args[i]);}});if(_3fb){this.compile(self.args[0]);}}});_3f1.jtlc._declareTag("expr",dojo.declare(_3f1.jtlc._MultiArgTag,{constructor:function(expr){if(typeof expr!=="string"){throw Error("expr() expects a string, not "+expr.toString());}this.expr=dojo.trim(expr);if(this.expr==_3f1.jtlc.replaceWithinJavascript(this.expr,/\$/g,"")&&/^[a-z_]/.test(this.expr)){this.expr="$."+this.expr;}},saveExpression:function(self,refs,i){var expr=this.expressions[this.expressions.length-1];refs[i]=expr.length>4?"("+expr+")":expr;},compile:function(self){var refs={},_3fc=false,expr=self.expr;_3f1.jtlc.replaceWithinJavascript(self.expr,/\$[0-9#]?/g,function(s){if(!(s in refs)){refs[s]=1;}else{++refs[s];}_3fc=_3fc||s in {"$":1,"$#":1};});if(!_3fc&&this.loop&&!this.loop.started()){throw Error("Expression "+_3f1.jtlc.stringLiteral(self.expr)+" cannot be used as a generator");}if("$#" in refs&&!this.loop){throw Error("$# cannot be used in singleton expressions");}var _3fd=this.expressions.length;if("$0" in refs){refs["$0"]=this.current_input;}this.nonAccumulated(function(){for(var i in refs){if(!(i in {"$":1,"$#":1,"$0":1})){var n=parseInt(i.charAt(1));if(self.args.length<=parseInt(n)){throw Error("Expression "+_3f1.jtlc.stringLiteral(self.expr)+" refers to argument "+i+" that was not supplied");}this.compile(self.args[n]);self.saveExpression.call(this,self,refs,i);}}});if(this.loop&&!this.loop.started()||"$" in refs){this.compile(self.args[0]);if(!("$" in refs)){this.popExpression();}else{self.saveExpression.call(this,self,refs,"$");}}if("$#" in refs){refs["$#"]=this.loop.count();}while(this.expressions.length>_3fd){this.popExpression();}this.expressions.push(_3f1.jtlc.replaceWithinJavascript(self.expr,/\$[0-9#]?/g,function(s){return refs[s];}));}}));dojo.declare("dojox.jtlc._ArrayOrGenerator",null,{constructor:function(tpl){this.template=tpl||_3f1.jtlc.tags.current();},compileImpl:function(self,_3fe){var _3ff=false;if(this.loop&&!this.loop.started()){var _400=this.loop;this.loop=dojo.delegate(this.loop,{begin:function(init){_400.begin(_3fe+"("+init+")");}});_3ff=true;}this.nonAccumulated(function(){this.compile(self.template);});if(_3ff){this.generator(this.popExpression());}else{this.expressions.push(_3fe+"("+this.popExpression()+")");}}});_3f1.jtlc._getValues=function(d){if(d instanceof Array){return d;}var res=[];for(var i in d){if(d.hasOwnProperty(i)){res.push(d[i]);}}return res;};_3f1.jtlc._declareTag("from",dojo.declare(_3f1.jtlc._ArrayOrGenerator,{compile:function(self){self.compileImpl.call(this,self,this._valueGenerator=this._valueGenerator||this.addGlobal(_3f1.jtlc._getValues));}}));_3f1.jtlc._getDictionaryKeys=function(d){var res=[];for(var i in d){if(d.hasOwnProperty(i)){res.push(i);}}return res;};_3f1.jtlc._declareTag("keys",dojo.declare(_3f1.jtlc._ArrayOrGenerator,{compile:function(self){self.compileImpl.call(this,self,this._keyGenerator=this._keyGenerator||this.addGlobal(_3f1.jtlc._getDictionaryKeys));}}));_3f1.jtlc._declareTag("setkey",{constructor:function(key,arg){if(typeof key==="undefined"){throw Error("setkey() requires at least one argument");}this.key=key;this.arg=arg||_3f1.jtlc.tags.current();},compile:function(self){this.compile(self.arg);if(!this.sink||!this.sink.key){throw Error("setkey() should only be used within an object literal");}var _401=this.popExpression(),t=this.addLocal();if(t!=_401){this.code.push(t+"="+_401+";");}this.nonAccumulated(function(){this.compile(self.key);},t);this.sink.key=this.popExpression();this.expressions.push(t);}});_3f1.jtlc._declareTag("bind",dojo.declare(_3f1.jtlc._MultiArgTag,{constructor:function(fn){if(typeof fn!=="function"){throw Error("First argument of bind() must be a function");}this.fn=fn;},compile:function(self){var fn=this.addGlobal(self.fn);self.compileArgs.call(this,self,true);this.expressions.push(fn+"("+self.argumentList.call(this,self)+")");}}));dojo.declare("dojox.jtlc._LastSink",_3f1.jtlc._Sink,{constructor:function(){this.accumulator=this.compiler.addLocal();},append:function(){this.compiler.code.push(this.accumulator+"="+this.compiler.popExpression()+";");this.closeLoops();}});_3f1.jtlc._declareTag("last",{constructor:function(tpl){this.arg=tpl||_3f1.jtlc.tags.current();},compile:function(self){this.accumulated(null,new _3f1.jtlc._LastSink(this),new _3f1.jtlc._Loop(this),function(){this.compile(self.arg);this.sink.append();});}});_3f1.jtlc._declareTag("defined",{constructor:function(tpl){this.arg=tpl||_3f1.jtlc.tags.current();},compile:function(self){if(!this.loop||this.loop.started()){throw Error("defined() is never a singleton, wrap it in many() or []");}this.compile(self.arg);var _402=this.popExpression(),t=this.addLocal();if(t!=_402){this.code.push(t+"="+_402+";");}this.code.push("if(typeof "+t+"===\"undefined\""+")continue;");this.expressions.push(t);}});_3f1.jtlc._declareTag("query",dojo.declare(_3f1.jtlc._MultiArgTag,{constructor:function(_403){if(arguments.length<1){throw Error("query() requires at least 1 argument");}this.query=_403;},callQuery:function(self){return this.addGlobal(this.queryLanguage(self.query))+"("+self.argumentList.call(this,self)+")";},compile:function(self){self.compileArgs.call(this,self);if(this.loop&&!this.loop.started()){this.generator(self.callQuery.call(this,self));}else{this.expressions.push(self.callQuery.call(this,self));}}}));dojo.declare("dojox.jtlc._GroupLoop",_3f1.jtlc._Loop,{"-chains-":{begin:"after",end:"before"},constructor:function(_404,key,_405){this.key=typeof key==="object"&&key.constructor===Array?key:[key];this.nextItem=false;this.first_in_group=_405;},item:function(){if(!this._items){throw Error("Internal error: loop not initialized");}return this.lockedItem||this._items+"["+this._i+(this.nextItem?"+1":"")+"]";},count:function(){return "("+(this.lockedItem?this.first_in_group:this._i+(this.nextItem?"+1":""))+")";},begin:function(){this.compiler.code.push("if("+this._i+"<"+this._items+".length-1){");for(var i=this.key.length-1;i>=0;--i){this.compiler.compile(this.key[i]);this.nextItem=true;this.compiler.compile(this.key[i]);this.nextItem=false;}this.compiler.code.push("if(");for(var i=0;i<this.key.length;++i){if(i){this.compiler.code.push("&&");}this.compiler.code.push(this.compiler.popExpression()+"=="+this.compiler.popExpression());}this.compiler.code.push(") continue;}");},end:function(){this.compiler.code.push(this.first_in_group+"="+this._i+"+1;");},lockItem:function(item){if(item!=this.item()){var _406=this.addLocal();this.compiler.code.push(_406+"="+this._i+";");this.compiler.code.push("for("+this._i+"="+this.first_in_group+";"+this._i+"<="+_406+";++"+this._i+")");this.compiler.code.push(this.item()+"="+item+";");this.compiler.code.push(this._i+"="+_406+";");this.locals.pop();}this.inherited(arguments,[this._items+".slice("+this.first_in_group+","+this._i+"+1)"]);}});_3f1.jtlc._declareTag("group",{constructor:function(key,body,_407){this.key=key;this.body=body;if(_407){this.query=_407;}},compile:function(self){if(!("_groupOptimizer" in this.optimizers)){this.optimizers._groupOptimizer=self.optimize;}if(!this.loop){throw Error("group() is never a singleton, wrap it in many() or []");}var _408=this.addLocal();this.code.push(_408+"=0;");this.loop=new _3f1.jtlc._GroupLoop(this,self.key,_408);if(self.query){this.compile(self.query);}else{this.generator();}this.loop.lockItem(this.popExpression());this.compile(self.body);},optimize:function(body){return _3f1.jtlc.replaceWithinJavascript(body,/\(([a-z][a-z0-9]*)\.slice\(([a-z][a-z0-9]*),([a-z][a-z0-9]*)\+1\)\)(\.length|\[0\])/ig,function(_409,a,from,to,op){return op==".length"?"("+to+"-"+from+"+1)":a+"["+from+"]";});}});dojo.declare("dojox.jtlc._IotaLoop",_3f1.jtlc._Loop,{"-chains-":{end:"after"},constructor:function(_40a,_40b){this._localVarCount=0;this._setParameter(_40b.start,"_i",true);this._setParameter(_40b.step,"_step");this._setParameter(_40b.stop,"_stop");},_setParameter:function(to,name,_40c){if(_40c||typeof to==="string"&&to.length>4){this[name]=this.compiler.addLocal();this._localVarCount++;if(this[name]!==to){this.compiler.code.push(this[name]+"="+to+";");}}else{this[name]=to;}},_stopCondition:function(){return typeof this._step==="string"?"("+this._step+"<0?"+this._i+">"+this._stop+":"+this._i+"<"+this._stop+")":this._step<0?this._i+">"+this._stop:this._i+"<"+this._stop;},begin:function(){if(this._items){throw Error("Internal error: loop initialized twice");}this._items=true;this._count=this.compiler.addLocal();this.compiler.code.push("for("+this._count+"=0;"+this._stopCondition()+";++"+this._count+","+this._i+"+="+this._step+"){");if(this.compiler.sink){this.compiler.sink.loops_to_close.push(this);}},item:function(){if(!this._items){throw Error("Internal error: loop not initialized");}return "("+(this.lockedItem||this._i)+")";},count:function(){if(!this._items){throw Error("Internal error: loop not initialized");}return "("+this._count+")";},end:function(){while(--this._localVarCount){this.compiler.locals.pop();}}});_3f1.jtlc._declareTag("iota",{constructor:function(){if(arguments.length==0||arguments.length>3){throw Error("iota() expects at least one and at most three arguments");}this.stop=arguments[arguments.length-1];if(arguments.length>1){this.start=arguments[0];}if(arguments.length>2){this.step=arguments[1];}},defaultParams:{start:0,step:1},iotaParams:function(self){var _40d=dojo.delegate(self.defaultParams),_40e=this;function _40f(what){switch(typeof self[what]){case "number":_40d[what]=self[what];case "undefined":return false;}_40e.compile(self[what]);return true;};this.nonAccumulated(function(){var _410=_40f("start"),_411=_40f("step"),_412=_40f("stop");if(_412){_40d.stop=this.popExpression();}if(_411){_40d.step=this.popExpression();}if(_410){_40d.start=this.popExpression();}});return _40d;},compile:function(self){if(!this.loop){this.compile([self]);return;}if(this.loop.started()){throw Error("iota() used in a wrong context");}this.loop=new _3f1.jtlc._IotaLoop(this,self.iotaParams.call(this,self));this.generator();}});});},"dojox/jtlc/compile":function(){define(["dojo","dijit","dojox","dojo/require!dojox/jtlc/prettyPrint"],function(dojo,_413,_414){dojo.provide("dojox.jtlc.compile");if(dojo.config.isDebug||dojo.config.jtlcIsReadable){dojo.require("dojox.jtlc.prettyPrint");}_414.jtlc._varNameLetters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";_414.jtlc._varName=function(n){var r=_414.jtlc._varNameLetters.charAt(n%52);n=Math.floor(n/52);while(n>0){r+=_414.jtlc._varNameLetters.charAt(n%62);n=Math.floor(n/62);}return r;};_414.jtlc.stringLiteral=function(s){return "\""+s.toString().replace(/[\\"\r\n\t]/g,function(x){return {"\\":"\\\\","\"":"\\\"","\n":"\\n","\t":"\\t","\r":""}[x];})+"\"";};_414.jtlc.arrayAppend=function(dst,src){src.unshift(0);src.unshift(dst.length);dst.splice.apply(dst,src);};_414.jtlc._replaceWithinJavascriptAll=function(s,_415,repl){return s.replace(/((?:.|[\r\n])*?)((["']).*?[^\\]?\3|$)/g,function(_416,code,_417){return code.replace(_415,repl)+_417;});};_414.jtlc._replaceWithinJavascriptOnce=function(s,_418,repl){var once=false;return s.replace(/((?:.|[\r\n])*?)((["']).*?[^\\]?\3|$)/g,function(_419,code,_41a){if(once){return code+_41a;}var v=code.replace(_418,repl);if(v!=code){once=true;}return v+_41a;});};_414.jtlc.replaceWithinJavascript=function(s,_41b,repl){return _41b instanceof RegExp&&_41b.global?_414.jtlc._replaceWithinJavascriptAll(s,_41b,repl):_414.jtlc._replaceWithinJavascriptOnce(s,_41b,repl);};_414.jtlc._eval=function(x){return eval(x);};_414.jtlc._optimizeExtraBrackets=function(body){var _41c;while((_41c=_414.jtlc.replaceWithinJavascript(body,/([^a-z0-9_]|^)\(((?:_|[a-z])[a-z0-9]*)\)/ig,"$1$2"))!=body){body=_41c;}return body;};_414.jtlc.compile=function(tpl,lang,_41d){var _41e={globals:{names:[],values:[]},locals:[],max_local:0,code:["var $=arguments"],expressions:[],optimizers:dojo.config.isDebug||dojo.config.jtlcIsReadable?{"_optimizeExtraBrackets":_414.jtlc._optimizeExtraBrackets}:{}};if(_41d){_41e=dojo.mixin({},_41d,_41e);}_41e=dojo.delegate(lang,_41e);_41e.compileArguments={language:lang,options:_41d};_41e.compileBody(tpl);while(_41e.locals.length<_41e.max_local){_41e.addLocal();}if(_41e.max_local){_41e.code[0]+=","+_41e.locals.join(",");}_41e.code[0]+=";";_41e.code.push("return "+_41e.popExpression()+";");var body=_41e.code.join("");body=_41e.optimize(body);if((dojo.config.isDebug||dojo.config.jtlcIsReadable)&&!dojo.isIE){body=_414.jtlc.prettyPrint(body);}return _41e.decorate(_41e.makeClosure(body).apply(null,_41e.globals.values));};dojo.declare("dojox.jtlc.Language",null,{singletonQuery:{failOnNoResults:false,failOnManyResults:false},elideNulls:false,failOnDuplicateKeys:false,constructor:function(_41f){if(_41f){dojo.mixin(this,_41f);for(var i in _41f){if(_41f.hasOwnProperty(i)&&i in this.constructor.prototype){this[i]=dojo.mixin({},this.constructor.prototype[i],this[i]);}}}},compileBody:function(tpl){return this.compile(tpl);},compile:function(tpl){var t=typeof (tpl);if(t in this){this[t](tpl);}else{throw Error("Unexpected "+t+" value in template: "+tpl.toString());}},optimize:function(body){for(var i in this.optimizers){body=this.optimizers[i].call(this,body);}return body;},addGlobal:function(_420){for(var i=0;i<this.globals.values.length;++i){if(this.globals.values[i]===_420){return this.globals.names[i];}}var name="_"+_414.jtlc._varName(this.globals.names.length);this.globals.names.push(name);this.globals.values.push(_420);return name;},addLocal:function(){var name=_414.jtlc._varName(this.locals.length);this.locals.push(name);if(this.locals.length>this.max_local){this.max_local=this.locals.length;}return name;},popExpression:function(){var expr=this.expressions.pop();if(this.locals.length&&this.locals[this.locals.length-1]===expr){this.locals.pop();}return expr;},decorate:function(f){return f;},makeClosure:dojo.isIE?function(_421){return new Function(this.globals.names,"function $self(){"+_421+"} return $self;");}:new Function("inner_body","return dojox.jtlc._eval( \"(function(\" + this.globals.names.join(\",\") + \"){function $self(){\" + inner_body + \"} return $self;})\" +\t\t\t\t\t\t  (this.sourceUrl ? \"\\r\\n//@ sourceURL=\" + this.sourceUrl : \"\") );"),current_input:"$[0]",accumulated:function(init,sink,loop,_422){var _423=this.sink,_424=this.loop;if(_423!==sink){this.sink=sink;if(init){this.code.push(this.sink.accumulator+init);}}if(loop!==_424){if(loop){this.loop=loop;}else{delete this.loop;}}var _425=this.hasOwnProperty("current_input")?this.current_input:null;if(_424&&loop!==_424&&_424.lockedItem){this.current_input="("+_424.item()+")";}_422.call(this);if(_425!==(this.hasOwnProperty("current_input")?this.current_input:null)){if(_425){this.current_input=_425;}else{delete this.current_input;}}if(loop!==_424){if(_424){this.loop=_424;}else{delete this.loop;}}if(_423!==sink){this.expressions.push(this.sink.accumulator);if(_423){this.sink=_423;}else{delete this.sink;}}},nonAccumulated:function(_426,_427){var _428=this.loop;if(this.loop){delete this.loop;}var _429=this.hasOwnProperty("current_input")?this.current_input:null;if(_427){this.current_input=_427;}else{if(_428&&_428.lockedItem){this.current_input="("+_428.item()+")";}}_426.call(this);if(_429!==(this.hasOwnProperty("current_input")?this.current_input:null)){if(_429){this.current_input=_429;}else{delete this.current_input;}}if(_428){this.loop=_428;}},generator:function(expr){if(!expr){expr=this.current_input;}if(this.loop){if(!this.loop.started()){this.loop.begin(expr);}this.expressions.push(this.loop.item());}else{this.expressions.push(expr);}},object:function(tpl){if(tpl===null){this.nullValue();}else{if("compile" in tpl){tpl.compile.call(this,tpl);}else{if(tpl.constructor===Array){this.array(tpl);}else{if(tpl.constructor!==Object){this.unknownObject(tpl);}else{this.dictionary(tpl);}}}}},dictionary:function(tpl){this.accumulated("={};",new _414.jtlc._DictionarySink(this),null,function(){for(var i in tpl){if(tpl.hasOwnProperty(i)){this.sink.key=_414.jtlc.stringLiteral(i);this.compile(tpl[i]);this.sink.append();}}});},array:function(tpl){this.accumulated("=[];",new _414.jtlc._ArraySink(this),new _414.jtlc._Loop(this),function(){for(var i=0;i<tpl.length;++i){if(tpl.hasOwnProperty(i)){this.compile(tpl[i]);this.sink.append();}}});},unknownObject:function(tpl){throw Error("Unexpected object in the template: "+tpl.toString());},nullValue:function(){throw Error("Unexpected null value in the template");}});dojo.declare("dojox.jtlc._Sink",null,{constructor:function(_42a){this.compiler=_42a;this.loops_to_close=[];},closeLoops:function(){while(this.loops_to_close.length>0){this.loops_to_close.pop().end();}}});dojo.declare("dojox.jtlc._DictionarySink",_414.jtlc._Sink,{constructor:function(){this.accumulator=this.compiler.addLocal();},append:function(){if(this.compiler.elideNulls||this.compiler.failOnDuplicateKeys){this.compiler._dictionaryAppend=this.compiler._dictionaryAppend||this.compiler.addGlobal(new Function("d","k","v",(this.compiler.failOnDuplicateKeys?"if( k in d ) throw Error( 'Duplicate key ' + dojox.jtlc.stringLiteral(k) );":"")+(this.compiler.elideNulls?"if( v !== null )":"")+"d[k]=v;"));this.compiler.code.push(this.compiler._dictionaryAppend+"("+this.accumulator+","+this.key+","+this.compiler.popExpression()+");");}else{this.compiler.code.push(this.accumulator+"["+this.key+"]="+this.compiler.popExpression()+";");}this.closeLoops();}});dojo.declare("dojox.jtlc._ArraySink",_414.jtlc._Sink,{constructor:function(){this.accumulator=this.compiler.addLocal();},append:function(){if(!("_arrayOptimizer" in this.compiler.optimizers)){this.compiler.optimizers._arrayOptimizer=this.optimize;}if(this.compiler.elideNulls){this.compiler._arrayAppend=this.compiler._arrayAppend||this.compiler.addGlobal(function(a,v){if(v){a.push(v);}});this.compiler.code.push(this.compiler._arrayAppend+"("+this.accumulator+","+this.compiler.popExpression()+");");}else{this.compiler.code.push(this.accumulator+".push("+this.compiler.popExpression()+");");}this.closeLoops();},optimize:function(body){var _42b=this;return _414.jtlc.replaceWithinJavascript(body,/for\(([a-zA-Z][a-zA-Z0-9]*)=0;\1<([a-zA-Z][a-zA-Z0-9]*).length;\+\+\1\){([a-zA-Z][a-zA-Z0-9]*)\.push\(\2\[\1\]\);}/g,function(_42c,_42d,src,dst){var g=_42b.addGlobal(_414.jtlc.arrayAppend);return g+"("+dst+","+src+")";});}});dojo.declare("dojox.jtlc._Loop",null,{constructor:function(_42e){this.compiler=_42e;},begin:function(init){if(this._items){throw Error("Internal error: loop initialized twice");}this._items=this.compiler.addLocal();this._i=this.compiler.addLocal();this.compiler.code.push((init===this._items?"":this._items+"="+init+";")+"for("+this._i+"=0;"+this._i+"<"+this._items+".length;++"+this._i+"){");if(this.compiler.sink){this.compiler.sink.loops_to_close.push(this);}},item:function(){if(!this._items){throw Error("Internal error: loop not initialized");}return this.lockedItem||this._items+"["+this._i+"]";},lockItem:function(item){if(!this._items){throw Error("_Loop.lockItem() called out of sequence");}var _42f=this.item();if(item!=_42f&&"("+item+")"!=_42f){this.lockedItemVar=this.lockedItemVar||this.compiler.addLocal();if(this.lockedItemVar!=item){this.compiler.code.push(this.lockedItemVar+"="+item+";");}this.lockedItem="("+this.lockedItemVar+")";}else{this.lockedItem=item;}},count:function(){if(!this._items){throw Error("Internal error: loop not initialized");}return "("+this._i+")";},end:function(){if(!this._items){throw Error("Internal error: loop not initialized");}delete this._items;delete this._i;this.compiler.code.push("}");if(this.lockedItemVar){this.compiler.locals.pop();}this.compiler.locals.pop();this.compiler.locals.pop();},started:function(){return !!this._items;}});});},"dojox/jtlc/prettyPrint":function(){define(["dojo","dijit","dojox"],function(dojo,_430,_431){dojo.provide("dojox.jtlc.prettyPrint");_431.jtlc.prettyPrint=function(js){var _432={"/*":{suffix:"*/",allow:"|*/"},"//":{suffix:"\n",allow:"|\n"},"\"":{suffix:"\"",allow:"|\""},"'":{suffix:"'",allow:"|'"},"for(":{suffix:")",allow:"|(|)"},"(":{suffix:")",allow:"|(|)"}},_433=[{allow:"|/*|*/|//|\"|'|;|{|}|\n|for("}],_434="\t";return ("\n"+js).replace(/(?:\/\*|\*\/|\/\/|[;{}]\s*|["')\n]|\\.|(?:for)?\()/g,function(_435,_436,src){var next=_436+_435.length,_437=/\s+$/.exec(_435);if(_437&&_437[0]!=_435){_435=_435.substr(_435,_435.length-_437[0].length);}if(_435.substr(0,1)=="\\"||_433[0].allow.indexOf("|"+_435)<0){return src.substring(_436,next);}if(_433[0].suffix===_435){_433.shift();}else{if(_435 in _432){_433.unshift(_432[_435]);}}if(_435=="\n"){return _435+_434;}if("{};".indexOf(_435)<0){return _435;}var _438="",_439="\n"+_434;if(_435=="{"){_434+="\t";_439+="\t";}else{if(_435=="}"){_434=_434.substr(0,_434.length-1);if("};".indexOf(src.substr(_436-1,1))<0){_438="\n"+_434+"\t";}if(");,".indexOf(src.substr(next,1))>=0){_439="";}else{_439="\n"+_434;}}}return _438+_435+_439;}).replace(/\t(\}|$)/g,"$1");};});}}});(function(){var _43a=this.require;_43a({cache:{}});!_43a.async&&_43a(["dojo"]);_43a.boot&&_43a.apply(null,_43a.boot);})();global.require(["main/collect","dojo/main"]);